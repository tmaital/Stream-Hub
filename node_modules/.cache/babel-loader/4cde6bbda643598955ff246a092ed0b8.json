{"ast":null,"code":"import _defineProperty from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Deps\nimport React,{useState,useEffect}from'react';import\"./user-profile.css\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTimes}from\"@fortawesome/free-solid-svg-icons\";import*as firebase from\"firebase/app\";import\"firebase/auth\";import fire from\"../fire\";//required!\nimport{useTranslation}from'react-i18next';// Components\nimport UserProfileFeedPanel from\"./UserProfileFeedPanel\";function UserProfile(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showClearButton=_useState2[0],setClearButton=_useState2[1];var _useTranslation=useTranslation(),t=_useTranslation.t;var handleCloseMenu=function handleCloseMenu(){props.handleHideProfile();};var handleSignOut=function handleSignOut(){firebase.auth().signOut().then(props.setIsLoggedIn(false));};var handleClearShow=function handleClearShow(){setClearButton(true);};var handleClearHide=function handleClearHide(){setClearButton(false);};var handleClearAll=function handleClearAll(){props.setUserData(function(prevState){return _objectSpread({},prevState,{savedItems:\"\"});});firebase.auth().currentUser.updateProfile({photoURL:\"\"});handleClearHide();};var savedItemsPanel=/*#__PURE__*/React.createElement(UserProfileFeedPanel,_defineProperty({userData:props.userData,feed:props.feed,isLoggedIn:props.isLoggedIn,setUserData:props.setUserData},\"userData\",props.userData));return/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-dropdown\"},/*#__PURE__*/React.createElement(\"div\",{className:t(\"lang\")===\"he\"?\"user-profile-container-grid-rtl\":\"user-profile-container-grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-close-button-login\",onClick:handleCloseMenu},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes,size:\"1x\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-header\"},/*#__PURE__*/React.createElement(\"h2\",null,t(\"Hi\"),\" \",props.userData.displayName),/*#__PURE__*/React.createElement(\"h3\",null,t(\"Welcome to your personal pannel.\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),\" \",t(\"Here you can view all your saved items.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-saved-feed\"},props.userData.savedItems?savedItemsPanel:/*#__PURE__*/React.createElement(\"h3\",{className:\"user-profile-saved-feed-h3\"},t(\"No Saved Events\"))),props.userData.savedItems?!showClearButton?/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-saved-feed-clear\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-saved-feed-clear-button\",onClick:handleClearShow},t(\"Clear All\"))):/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-saved-feed-clear\"},/*#__PURE__*/React.createElement(\"h3\",null,t(\"Are you sure?\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-saved-feed-clear-button-red\",onClick:handleClearAll},t(\"Clear All\")),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-saved-feed-clear-button\",onClick:handleClearHide},t(\"Cancel\")))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-logout-button\",onClick:handleSignOut},t(\"Log Out\")))));}export default UserProfile;","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/UserProfile.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faTimes","firebase","fire","useTranslation","UserProfileFeedPanel","UserProfile","props","showClearButton","setClearButton","t","handleCloseMenu","handleHideProfile","handleSignOut","auth","signOut","then","setIsLoggedIn","handleClearShow","handleClearHide","handleClearAll","setUserData","prevState","savedItems","currentUser","updateProfile","photoURL","savedItemsPanel","userData","feed","isLoggedIn","displayName"],"mappings":"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","sourcesContent":["// Deps\nimport React, { useState, useEffect } from 'react'\nimport \"./user-profile.css\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\"\nimport fire from \"../fire\"; //required!\nimport { useTranslation } from 'react-i18next'\n\n\n// Components\nimport UserProfileFeedPanel from \"./UserProfileFeedPanel\"\n\nfunction UserProfile(props){\n\n    const [showClearButton, setClearButton] = useState(false)\n\n    const { t } = useTranslation()\n\n    const handleCloseMenu = () => {\n        props.handleHideProfile()\n    }\n\n    const handleSignOut = () => {\n        firebase\n        .auth()\n        .signOut()\n        .then(props.setIsLoggedIn(false))\n    }\n\n    const handleClearShow = () => {\n        setClearButton(true)\n    }\n\n    const handleClearHide = () => {\n        setClearButton(false)\n    }\n\n    const handleClearAll = () => {\n        props.setUserData(prevState => ({...prevState, savedItems: \"\"}))\n        firebase.auth().currentUser.updateProfile({photoURL: \"\"})\n        handleClearHide()\n    }\n\n    const savedItemsPanel = <UserProfileFeedPanel \n                                userData={props.userData} \n                                feed={props.feed} \n                                isLoggedIn={props.isLoggedIn}\n                                setUserData={props.setUserData}\n                                userData={props.userData}\n                            />\n\n    return(\n        <div className=\"user-profile-dropdown\">\n            <div className={t(\"lang\") === \"he\" ? \"user-profile-container-grid-rtl\" : \"user-profile-container-grid\"}>\n                <div className=\"modal-close-button-login\" onClick={handleCloseMenu}>\n                    <FontAwesomeIcon icon={faTimes} size=\"1x\"/>\n                </div>\n                <div className=\"user-profile-header\">\n                    <h2>{t(\"Hi\")} {props.userData.displayName}</h2>\n                    <h3>{t(\"Welcome to your personal pannel.\")} <br/> {t(\"Here you can view all your saved items.\")}</h3>\n                </div>\n                <div className=\"user-profile-saved-feed\">\n                    {props.userData.savedItems ? savedItemsPanel : <h3 className=\"user-profile-saved-feed-h3\">{t(\"No Saved Events\")}</h3>}\n                </div>\n                {props.userData.savedItems ? !showClearButton  \n                ?<div className=\"user-profile-saved-feed-clear\">\n                    <button type=\"button\" className=\"user-profile-saved-feed-clear-button\" onClick={handleClearShow}>{t(\"Clear All\")}</button>\n                </div>\n                :<div className=\"user-profile-saved-feed-clear\">\n                    <h3>{t(\"Are you sure?\")}</h3>\n                    <div>\n                        <button type=\"button\" className=\"user-profile-saved-feed-clear-button-red\" onClick={handleClearAll}>{t(\"Clear All\")}</button>\n                        <button type=\"button\" className=\"user-profile-saved-feed-clear-button\" onClick={handleClearHide}>{t(\"Cancel\")}</button>\n                    </div>\n                </div> : null}\n                <div className=\"user-profile-footer\">\n                    <button type=\"button\" className=\"user-profile-logout-button\" onClick={handleSignOut}>{t(\"Log Out\")}</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UserProfile"]},"metadata":{},"sourceType":"module"}