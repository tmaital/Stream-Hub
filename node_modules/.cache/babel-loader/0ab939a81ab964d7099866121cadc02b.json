{"ast":null,"code":"import _defineProperty from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Deps\nimport React,{useState,useEffect}from'react';import\"./user-profile.css\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTimes}from\"@fortawesome/free-solid-svg-icons\";import*as firebase from\"firebase/app\";import\"firebase/auth\";import fire from\"../fire\";//required!\n// Components\nimport UserProfileFeedPanel from\"./UserProfileFeedPanel\";function UserProfile(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showClearButton=_useState2[0],setClearButton=_useState2[1];var handleCloseMenu=function handleCloseMenu(){props.handleHideProfile();};var handleSignOut=function handleSignOut(){firebase.auth().signOut().then(props.setIsLoggedIn(false));};var handleClearShow=function handleClearShow(){setClearButton(true);};var handleClearHide=function handleClearHide(){setClearButton(false);};var handleClearAll=function handleClearAll(){props.setUserData(function(prevState){return _objectSpread({},prevState,{savedItems:\"\"});});firebase.auth().currentUser.updateProfile({photoURL:\"\"});handleClearHide();};var savedItemsPanel=/*#__PURE__*/React.createElement(UserProfileFeedPanel,_defineProperty({userData:props.userData,feed:props.feed,isLoggedIn:props.isLoggedIn,setUserData:props.setUserData},\"userData\",props.userData));return/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-dropdown\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-container-grid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-close-button-login\",onClick:handleCloseMenu},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes,size:\"1x\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Hi \",props.userData.displayName),/*#__PURE__*/React.createElement(\"h3\",null,\"Welcome to your personal pannel. \",/*#__PURE__*/React.createElement(\"br\",null),\" Here you can view all your saved items.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-saved-feed\"},props.userData.savedItems?savedItemsPanel:/*#__PURE__*/React.createElement(\"h3\",{className:\"user-profile-saved-feed-h3\"},\"No Saved Events\")),props.userData.savedItems?!showClearButton?/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-saved-feed-clear\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-saved-feed-clear-button\",onClick:handleClearShow},\"Clear All\")):/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-saved-feed-clear\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Are you sure?\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-saved-feed-clear-button-red\",onClick:handleClearAll},\"Clear All\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-saved-feed-clear-button\",onClick:handleClearHide},\"Cancel\"))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile-footer\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"user-profile-logout-button\",onClick:handleSignOut},\"Log Out\"))));}export default UserProfile;","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/UserProfile.js"],"names":["React","useState","useEffect","FontAwesomeIcon","faTimes","firebase","fire","UserProfileFeedPanel","UserProfile","props","showClearButton","setClearButton","handleCloseMenu","handleHideProfile","handleSignOut","auth","signOut","then","setIsLoggedIn","handleClearShow","handleClearHide","handleClearAll","setUserData","prevState","savedItems","currentUser","updateProfile","photoURL","savedItemsPanel","userData","feed","isLoggedIn","displayName"],"mappings":"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","sourcesContent":["// Deps\nimport React, { useState, useEffect } from 'react'\nimport \"./user-profile.css\"\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport * as firebase from \"firebase/app\";\nimport \"firebase/auth\"\nimport fire from \"../fire\"; //required!\n\n// Components\nimport UserProfileFeedPanel from \"./UserProfileFeedPanel\"\n\nfunction UserProfile(props){\n\n    const [showClearButton, setClearButton] = useState(false)\n\n    const handleCloseMenu = () => {\n        props.handleHideProfile()\n    }\n\n    const handleSignOut = () => {\n        firebase\n        .auth()\n        .signOut()\n        .then(props.setIsLoggedIn(false))\n    }\n\n    const handleClearShow = () => {\n        setClearButton(true)\n    }\n\n    const handleClearHide = () => {\n        setClearButton(false)\n    }\n\n    const handleClearAll = () => {\n        props.setUserData(prevState => ({...prevState, savedItems: \"\"}))\n        firebase.auth().currentUser.updateProfile({photoURL: \"\"})\n        handleClearHide()\n    }\n\n    const savedItemsPanel = <UserProfileFeedPanel \n                                userData={props.userData} \n                                feed={props.feed} \n                                isLoggedIn={props.isLoggedIn}\n                                setUserData={props.setUserData}\n                                userData={props.userData}\n                            />\n\n    return(\n        <div className=\"user-profile-dropdown\">\n            <div className=\"user-profile-container-grid\">\n                <div className=\"modal-close-button-login\" onClick={handleCloseMenu}>\n                    <FontAwesomeIcon icon={faTimes} size=\"1x\"/>\n                </div>\n                <div className=\"user-profile-header\">\n                    <h2>Hi {props.userData.displayName}</h2>\n                    <h3>Welcome to your personal pannel. <br/> Here you can view all your saved items.</h3>\n                </div>\n                <div className=\"user-profile-saved-feed\">\n                    {props.userData.savedItems ? savedItemsPanel : <h3 className=\"user-profile-saved-feed-h3\">No Saved Events</h3>}\n                </div>\n                {props.userData.savedItems ? !showClearButton  \n                ?<div className=\"user-profile-saved-feed-clear\">\n                    <button type=\"button\" className=\"user-profile-saved-feed-clear-button\" onClick={handleClearShow}>Clear All</button>\n                </div>\n                :<div className=\"user-profile-saved-feed-clear\">\n                    <h3>Are you sure?</h3>\n                    <div>\n                        <button type=\"button\" className=\"user-profile-saved-feed-clear-button-red\" onClick={handleClearAll}>Clear All</button>\n                        <button type=\"button\" className=\"user-profile-saved-feed-clear-button\" onClick={handleClearHide}>Cancel</button>\n                    </div>\n                </div> : null}\n                <div className=\"user-profile-footer\">\n                    <button type=\"button\" className=\"user-profile-logout-button\" onClick={handleSignOut}>Log Out</button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default UserProfile"]},"metadata":{},"sourceType":"module"}