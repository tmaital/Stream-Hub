{"ast":null,"code":"import _defineProperty from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import\"./add-event-modal.css\";import{useTranslation}from'react-i18next';//import { loadReCaptcha } from 'react-recaptcha-v3'\nimport{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faFileUpload,faPlus,faTimes}from\"@fortawesome/free-solid-svg-icons\";import random9 from\"./categorypics/random9.jpg\";import moment from\"moment\";function AddEventModal(props){var _useState=useState({itemTitle:\"\",itemDuration:\"\",itemStartDateObj:\"\",itemURL:\"\",itemTags:\"[]\",platformID:1}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState({date:\"\",startTime:\"\",endTime:\"\"}),_useState4=_slicedToArray(_useState3,2),date=_useState4[0],setDate=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isError=_useState6[0],setIsError=_useState6[1];//useEffect(() => loadReCaptcha(\"6Lc73uoUAAAAAHMQquUS6UUmL6bxWKTE_cPSmFmW\"), [])\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setState(function(prevState){return _objectSpread({},prevState,_defineProperty({},name,value));});};var handleDateChange=function handleDateChange(event){var _event$target2=event.target,name=_event$target2.name,value=_event$target2.value;setDate(function(prevState){return _objectSpread({},prevState,_defineProperty({},name,value));});var duration=moment.duration(moment(date.endTime,\"HH:mm\").diff(moment(date.startTime,\"HH:mm\"))).asSeconds();var datetimeFormatted=\"\".concat(date.date.concat(\"T\",date.startTime));setState(function(prevState){return _objectSpread({},prevState,{itemDuration:duration,itemStartDateObj:datetimeFormatted});});};var handleCategoryChange=function handleCategoryChange(event){var _event$target3=event.target,name=_event$target3.name,value=_event$target3.value;var categoryFormatted=\"['\".concat(value.toLowerCase(),\"']\");setState(function(prevState){return _objectSpread({},prevState,_defineProperty({},name,categoryFormatted));});};var handleClose=function handleClose(event){if(event.target===event.currentTarget)props.handleHideAddEvent();};var handleSubmit=function handleSubmit(){if(state.itemTitle&&state.itemDuration&&state.itemStartDateObj&&state.itemURL&&state.itemTags!=\"[]\"){console.log(\"All Items Complete!\");var myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify(state);var requestOptions={method:'POST',headers:myHeaders,body:raw,redirect:'follow'};fetch(\"https://stream-hub.net/api/items/\",requestOptions).then(function(response){return response.text();}).then(function(result){return console.log(result);}).catch(function(error){return console.log('error',error);}).then(props.handleHideAddEvent());}else{setIsError(true);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"modal-container\",name:\"mainmodal\",onClick:handleClose},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-container-window-parent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-container-window\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-close-button\",onClick:props.handleHideAddEvent},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faTimes,size:\"1x\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-container\"},1===2?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-img\"},/*#__PURE__*/React.createElement(\"button\",{className:\"modal-form-img-button\",type:\"button\"},t(\"Upload Photo\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"modal-form-img-button-icon\",icon:faFileUpload,size:\"2x\"}))):/*#__PURE__*/React.createElement(\"img\",{className:t(\"lang\")===\"he\"?\"temp-img-rtl\":\"temp-img\",alt:\"\",src:random9}),/*#__PURE__*/React.createElement(\"form\",{className:\"modal-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-inputs\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",null,\"* \"),t(\"Tell us about your event\")),/*#__PURE__*/React.createElement(\"textarea\",{placeholder:t(\"Short description of your event...\"),maxLength:\"90\",name:\"itemTitle\",value:state.itemTitle,onChange:handleChange}),/*#__PURE__*/React.createElement(\"p\",null,state.itemTitle.length,\"/90\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-inputs\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",null,\"* \"),t(\"When is it?\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-datetime\"},/*#__PURE__*/React.createElement(\"label\",null,t(\"Event Date\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"date\",onChange:handleDateChange,value:date.date})),/*#__PURE__*/React.createElement(\"label\",null,t(\"Start Time\"),/*#__PURE__*/React.createElement(\"input\",{type:\"time\",name:\"startTime\",onChange:handleDateChange,value:date.startTime})),/*#__PURE__*/React.createElement(\"label\",null,t(\"End Time\"),/*#__PURE__*/React.createElement(\"input\",{type:\"time\",name:\"endTime\",onChange:handleDateChange,value:date.endTime})))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-inputs\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",null,\"* \"),t(\"Enter your event's URL\")),/*#__PURE__*/React.createElement(\"input\",{name:\"itemURL\",type:\"text\",placeholder:\"www.amazing-event.com/live-video-url\",onChange:handleChange,value:state.itemURL})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-categories\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(\"span\",null,\"* \"),t(\"Choose Category\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-form-categories-radio\"},/*#__PURE__*/React.createElement(\"label\",{className:\"modal-form-categories-radio-design\"},t(\"Kids\"),/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"itemTags\",value:\"kids\",onChange:handleCategoryChange}),/*#__PURE__*/React.createElement(\"span\",{className:\"radio-checkmark\"})),/*#__PURE__*/React.createElement(\"label\",{className:\"modal-form-categories-radio-design\"},t(\"Lectures\"),/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"itemTags\",value:\"lectures\",onChange:handleCategoryChange}),/*#__PURE__*/React.createElement(\"span\",{className:\"radio-checkmark\"})),/*#__PURE__*/React.createElement(\"label\",{className:\"modal-form-categories-radio-design\"},t(\"Fitness\"),/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"itemTags\",value:\"fitness\",onChange:handleCategoryChange}),/*#__PURE__*/React.createElement(\"span\",{className:\"radio-checkmark\"})),/*#__PURE__*/React.createElement(\"label\",{className:\"modal-form-categories-radio-design\"},t(\"Fun\"),/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",name:\"itemTags\",value:\"fun\",onChange:handleCategoryChange}),/*#__PURE__*/React.createElement(\"span\",{className:\"radio-checkmark\"})))))),isError?/*#__PURE__*/React.createElement(\"h4\",{style:{color:\"red\"}},\"You must complete the form before submitting!\"):null,/*#__PURE__*/React.createElement(\"button\",{className:\"modal-submit-button\",type:\"button\",onClick:handleSubmit},/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:t(\"lang\")===\"he\"?\"modal-submit-button-icon-rtl\":\"modal-submit-button-icon\",icon:faPlus,size:\"1x\"}),t(\"Add Event\")))));}export default AddEventModal;","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/AddEventModal.js"],"names":["React","useState","useEffect","useTranslation","FontAwesomeIcon","faFileUpload","faPlus","faTimes","random9","moment","AddEventModal","props","itemTitle","itemDuration","itemStartDateObj","itemURL","itemTags","platformID","state","setState","date","startTime","endTime","setDate","isError","setIsError","t","handleChange","event","target","name","value","prevState","handleDateChange","duration","diff","asSeconds","datetimeFormatted","concat","handleCategoryChange","categoryFormatted","toLowerCase","handleClose","currentTarget","handleHideAddEvent","handleSubmit","console","log","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","then","response","text","result","catch","error","length","color"],"mappings":"ylBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,uBAAP,CACA,OAASC,cAAT,KAA+B,eAA/B,CACA;AACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,YAAT,CAAuBC,MAAvB,CAA+BC,OAA/B,KAA8C,mCAA9C,CACA,MAAOC,CAAAA,OAAP,KAAoB,4BAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAIA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA6B,eAECV,QAAQ,CAAC,CAC/BW,SAAS,CAAC,EADqB,CAE/BC,YAAY,CAAC,EAFkB,CAG/BC,gBAAgB,CAAC,EAHc,CAI/BC,OAAO,CAAC,EAJuB,CAK/BC,QAAQ,CAAC,IALsB,CAM/BC,UAAU,CAAC,CANoB,CAAD,CAFT,wCAElBC,KAFkB,eAEXC,QAFW,8BAWDlB,QAAQ,CAAC,CAC7BmB,IAAI,CAAC,EADwB,CAE7BC,SAAS,CAAC,EAFmB,CAG7BC,OAAO,CAAC,EAHqB,CAAD,CAXP,yCAWlBF,IAXkB,eAWZG,OAXY,8BAiBKtB,QAAQ,CAAC,KAAD,CAjBb,yCAiBlBuB,OAjBkB,eAiBTC,UAjBS,eAmBzB;AAnByB,oBAqBXtB,cAAc,EArBH,CAqBjBuB,CArBiB,iBAqBjBA,CArBiB,CAuBzB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,mBACNA,KAAK,CAACC,MADA,CACrBC,IADqB,eACrBA,IADqB,CACfC,KADe,eACfA,KADe,CAE5BZ,QAAQ,CAAC,SAAAa,SAAS,0BAAUA,SAAV,oBAAsBF,IAAtB,CAA6BC,KAA7B,IAAV,CAAR,CACH,CAHD,CAKA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACL,KAAD,CAAW,oBACVA,KAAK,CAACC,MADI,CACzBC,IADyB,gBACzBA,IADyB,CACnBC,KADmB,gBACnBA,KADmB,CAEhCR,OAAO,CAAC,SAAAS,SAAS,0BAAUA,SAAV,oBAAsBF,IAAtB,CAA6BC,KAA7B,IAAV,CAAP,CACA,GAAMG,CAAAA,QAAQ,CAAGzB,MAAM,CAACyB,QAAP,CAAgBzB,MAAM,CAACW,IAAI,CAACE,OAAN,CAAc,OAAd,CAAN,CAA6Ba,IAA7B,CAAkC1B,MAAM,CAACW,IAAI,CAACC,SAAN,CAAgB,OAAhB,CAAxC,CAAhB,EAAmFe,SAAnF,EAAjB,CACA,GAAMC,CAAAA,iBAAiB,WAAMjB,IAAI,CAACA,IAAL,CAAUkB,MAAV,CAAiB,GAAjB,CAAqBlB,IAAI,CAACC,SAA1B,CAAN,CAAvB,CACAF,QAAQ,CAAC,SAAAa,SAAS,0BAAUA,SAAV,EAAqBnB,YAAY,CAAEqB,QAAnC,CAA6CpB,gBAAgB,CAAEuB,iBAA/D,IAAV,CAAR,CAEH,CAPD,CASA,GAAME,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACX,KAAD,CAAW,oBACdA,KAAK,CAACC,MADQ,CAC7BC,IAD6B,gBAC7BA,IAD6B,CACvBC,KADuB,gBACvBA,KADuB,CAEpC,GAAMS,CAAAA,iBAAiB,aAAQT,KAAK,CAACU,WAAN,EAAR,MAAvB,CACAtB,QAAQ,CAAC,SAAAa,SAAS,0BAAUA,SAAV,oBAAsBF,IAAtB,CAA6BU,iBAA7B,IAAV,CAAR,CACH,CAJD,CAMA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACd,KAAD,CAAW,CAC3B,GAAGA,KAAK,CAACC,MAAN,GAAiBD,KAAK,CAACe,aAA1B,CACAhC,KAAK,CAACiC,kBAAN,GACH,CAHD,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,GAAG3B,KAAK,CAACN,SAAN,EACAM,KAAK,CAACL,YADN,EAEAK,KAAK,CAACJ,gBAFN,EAGAI,KAAK,CAACH,OAHN,EAIAG,KAAK,CAACF,QAAN,EAAkB,IAJrB,CAI0B,CAEtB8B,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACA,GAAIC,CAAAA,SAAS,CAAG,GAAIC,CAAAA,OAAJ,EAAhB,CACAD,SAAS,CAACE,MAAV,CAAiB,cAAjB,CAAiC,kBAAjC,EAEA,GAAIC,CAAAA,GAAG,CAAGC,IAAI,CAACC,SAAL,CAAenC,KAAf,CAAV,CAEA,GAAIoC,CAAAA,cAAc,CAAG,CACrBC,MAAM,CAAE,MADa,CAErBC,OAAO,CAAER,SAFY,CAGrBS,IAAI,CAAEN,GAHe,CAIrBO,QAAQ,CAAE,QAJW,CAArB,CAOAC,KAAK,CAAC,mCAAD,CAAsCL,cAAtC,CAAL,CACCM,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,MAAM,QAAIjB,CAAAA,OAAO,CAACC,GAAR,CAAYgB,MAAZ,CAAJ,EAFZ,EAGCC,KAHD,CAGO,SAAAC,KAAK,QAAInB,CAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBkB,KAArB,CAAJ,EAHZ,EAICL,IAJD,CAIMjD,KAAK,CAACiC,kBAAN,EAJN,EAKH,CAxBD,IAwBO,CACHnB,UAAU,CAAC,IAAD,CAAV,CACH,CAGJ,CA9BD,CAiCA,mBACI,2BAAK,SAAS,CAAC,iBAAf,CAAiC,IAAI,CAAC,WAAtC,CAAkD,OAAO,CAAEiB,WAA3D,eACI,2BAAK,SAAS,CAAC,+BAAf,eACI,2BAAK,SAAS,CAAC,wBAAf,eACA,2BAAK,SAAS,CAAC,oBAAf,CAAoC,OAAO,CAAE/B,KAAK,CAACiC,kBAAnD,eACI,oBAAC,eAAD,EAAiB,IAAI,CAAErC,OAAvB,CAAgC,IAAI,CAAC,IAArC,EADJ,CADA,cAII,2BAAK,SAAS,CAAC,sBAAf,EAEH,IAAI,CAAJ,cAAQ,2BAAK,SAAS,CAAC,gBAAf,eACI,8BAAQ,SAAS,CAAC,uBAAlB,CAA0C,IAAI,CAAC,QAA/C,EAAyDmB,CAAC,CAAC,cAAD,CAA1D,cAA2E,8BAA3E,cAAgF,8BAAhF,cACD,oBAAC,eAAD,EAAiB,SAAS,CAAC,4BAA3B,CAAwD,IAAI,CAAErB,YAA9D,CAA4E,IAAI,CAAC,IAAjF,EADC,CADJ,CAAR,cAIgB,2BAAK,SAAS,CAAEqB,CAAC,CAAC,MAAD,CAAD,GAAc,IAAd,CAAqB,cAArB,CAAqC,UAArD,CAAiE,GAAG,CAAC,EAArE,CAAwE,GAAG,CAAElB,OAA7E,EANb,cAQI,4BAAM,SAAS,CAAC,YAAhB,eACI,2BAAK,SAAS,CAAC,mBAAf,eACI,2CAAI,qCAAJ,CAAoBkB,CAAC,CAAC,0BAAD,CAArB,CADJ,cAEI,gCACA,WAAW,CAAEA,CAAC,CAAC,oCAAD,CADd,CAEA,SAAS,CAAC,IAFV,CAGA,IAAI,CAAC,WAHL,CAIA,KAAK,CAAER,KAAK,CAACN,SAJb,CAKA,QAAQ,CAAEe,YALV,EAFJ,cASI,6BAAIT,KAAK,CAACN,SAAN,CAAgBsD,MAApB,OATJ,CADJ,cAaI,2BAAK,SAAS,CAAC,mBAAf,eACI,2CAAI,qCAAJ,CAAoBxC,CAAC,CAAC,aAAD,CAArB,CADJ,cAEI,2BAAK,SAAS,CAAC,qBAAf,eACI,iCACCA,CAAC,CAAC,YAAD,CADF,cACiB,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,QAAQ,CAAEO,gBAAzC,CAA4D,KAAK,CAAEb,IAAI,CAACA,IAAxE,EADjB,CADJ,cAII,iCACCM,CAAC,CAAC,YAAD,CADF,cACiB,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,QAAQ,CAAEO,gBAA9C,CAAgE,KAAK,CAAEb,IAAI,CAACC,SAA5E,EADjB,CAJJ,cAOI,iCACCK,CAAC,CAAC,UAAD,CADF,cACe,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,SAAxB,CAAkC,QAAQ,CAAEO,gBAA5C,CAA8D,KAAK,CAAEb,IAAI,CAACE,OAA1E,EADf,CAPJ,CAFJ,CAbJ,cA4BI,2BAAK,SAAS,CAAC,mBAAf,eACI,2CAAI,qCAAJ,CAAoBI,CAAC,CAAC,wBAAD,CAArB,CADJ,cAEI,6BACI,IAAI,CAAC,SADT,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAC,sCAHhB,CAII,QAAQ,CAAEC,YAJd,CAKI,KAAK,CAAET,KAAK,CAACH,OALjB,EAFJ,CA5BJ,cAsCI,2BAAK,SAAS,CAAC,uBAAf,eACI,2CAAI,qCAAJ,CAAoBW,CAAC,CAAC,iBAAD,CAArB,CADJ,cAEI,2BAAK,SAAS,CAAC,6BAAf,eACI,6BAAO,SAAS,CAAC,oCAAjB,EAAuDA,CAAC,CAAC,MAAD,CAAxD,cACI,6BAAO,IAAI,CAAC,OAAZ,CACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAC,MAFV,CAGI,QAAQ,CAAEa,oBAHd,EADJ,cAKI,4BAAM,SAAS,CAAC,iBAAhB,EALJ,CADJ,cAQI,6BAAO,SAAS,CAAC,oCAAjB,EAAuDb,CAAC,CAAC,UAAD,CAAxD,cACI,6BAAO,IAAI,CAAC,OAAZ,CACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAC,UAFV,CAGI,QAAQ,CAAEa,oBAHd,EADJ,cAKI,4BAAM,SAAS,CAAC,iBAAhB,EALJ,CARJ,cAeI,6BAAO,SAAS,CAAC,oCAAjB,EAAuDb,CAAC,CAAC,SAAD,CAAxD,cACI,6BAAO,IAAI,CAAC,OAAZ,CACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAC,SAFV,CAGI,QAAQ,CAAEa,oBAHd,EADJ,cAKI,4BAAM,SAAS,CAAC,iBAAhB,EALJ,CAfJ,cAsBI,6BAAO,SAAS,CAAC,oCAAjB,EAAuDb,CAAC,CAAC,KAAD,CAAxD,cACI,6BAAO,IAAI,CAAC,OAAZ,CACI,IAAI,CAAC,UADT,CAEI,KAAK,CAAC,KAFV,CAGI,QAAQ,CAAEa,oBAHd,EADJ,cAKI,4BAAM,SAAS,CAAC,iBAAhB,EALJ,CAtBJ,CAFJ,CAtCJ,CARJ,CAJJ,CAqFKf,OAAO,cAAG,0BAAI,KAAK,CAAE,CAAC2C,KAAK,CAAC,KAAP,CAAX,kDAAH,CAAkF,IArF9F,cAsFI,8BAAQ,SAAS,CAAC,qBAAlB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,OAAO,CAAEtB,YAA/D,eACI,oBAAC,eAAD,EAAiB,SAAS,CAAEnB,CAAC,CAAC,MAAD,CAAD,GAAc,IAAd,CAAqB,8BAArB,CAAsD,0BAAlF,CAA8G,IAAI,CAAEpB,MAApH,CAA4H,IAAI,CAAC,IAAjI,EADJ,CAEKoB,CAAC,CAAC,WAAD,CAFN,CAtFJ,CADJ,CADJ,CADJ,CAiGH,CAED,cAAehB,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport \"./add-event-modal.css\"\nimport { useTranslation } from 'react-i18next'\n//import { loadReCaptcha } from 'react-recaptcha-v3'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faFileUpload, faPlus, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport random9 from \"./categorypics/random9.jpg\"\nimport moment from \"moment\"\n\n\n\nfunction AddEventModal(props){\n\n    const [state, setState] = useState({\n        itemTitle:\"\",\n        itemDuration:\"\",\n        itemStartDateObj:\"\",\n        itemURL:\"\",\n        itemTags:\"[]\",\n        platformID:1\n    })\n    \n    const [date, setDate] = useState({\n        date:\"\",\n        startTime:\"\",\n        endTime:\"\",\n    })\n\n    const [isError, setIsError] = useState(false)\n    \n    //useEffect(() => loadReCaptcha(\"6Lc73uoUAAAAAHMQquUS6UUmL6bxWKTE_cPSmFmW\"), [])\n\n    const { t } = useTranslation()\n\n    const handleChange = (event) => {\n        const {name, value} = event.target\n        setState(prevState => ({ ...prevState, [name]: value }))\n    }\n\n    const handleDateChange = (event) => {\n        const {name, value} = event.target\n        setDate(prevState => ({ ...prevState, [name]: value }))\n        const duration = moment.duration(moment(date.endTime,\"HH:mm\").diff(moment(date.startTime,\"HH:mm\"))).asSeconds()\n        const datetimeFormatted = `${date.date.concat(\"T\",date.startTime)}`\n        setState(prevState => ({ ...prevState, itemDuration: duration, itemStartDateObj: datetimeFormatted }))\n            \n    }\n\n    const handleCategoryChange = (event) => {\n        const {name, value} = event.target\n        const categoryFormatted = `['${value.toLowerCase()}']`\n        setState(prevState => ({ ...prevState, [name]: categoryFormatted }))\n    }\n\n    const handleClose = (event) => {\n        if(event.target === event.currentTarget) \n        props.handleHideAddEvent()\n    }\n\n    const handleSubmit = () => {\n        if(state.itemTitle && \n           state.itemDuration && \n           state.itemStartDateObj && \n           state.itemURL && \n           state.itemTags != \"[]\"){\n               \n            console.log(\"All Items Complete!\")\n            var myHeaders = new Headers();\n            myHeaders.append(\"Content-Type\", \"application/json\")\n\n            var raw = JSON.stringify(state)\n\n            var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n            }\n        \n            fetch(\"https://stream-hub.net/api/items/\", requestOptions)\n            .then(response => response.text())\n            .then(result => console.log(result))\n            .catch(error => console.log('error', error))\n            .then(props.handleHideAddEvent())\n        } else {\n            setIsError(true)\n        }\n        \n        \n    }\n    \n\n    return(\n        <div className=\"modal-container\" name=\"mainmodal\" onClick={handleClose}>\n            <div className=\"modal-container-window-parent\">\n                <div className=\"modal-container-window\">\n                <div className=\"modal-close-button\" onClick={props.handleHideAddEvent}>\n                    <FontAwesomeIcon icon={faTimes} size=\"1x\"/>\n                </div>\n                    <div className=\"modal-form-container\">\n        {/* Remove Ternary expression to enable photo Upload */}\n                {1===2 ? <div className=\"modal-form-img\">\n                             <button className=\"modal-form-img-button\" type=\"button\">{t(\"Upload Photo\")}<br/><br/>\n                            <FontAwesomeIcon className=\"modal-form-img-button-icon\" icon={faFileUpload} size=\"2x\"/>\n                            </button> \n                        </div> : <img className={t(\"lang\") === \"he\" ? \"temp-img-rtl\" :\"temp-img\"} alt=\"\" src={random9}/>}\n\n                        <form className=\"modal-form\">\n                            <div className=\"modal-form-inputs\">\n                                <h3><span>* </span>{t(\"Tell us about your event\")}</h3>\n                                <textarea \n                                placeholder={t(\"Short description of your event...\")} \n                                maxLength=\"90\"\n                                name=\"itemTitle\"\n                                value={state.itemTitle}\n                                onChange={handleChange}\n                                />\n                                <p>{state.itemTitle.length}/90</p>\n                                \n                            </div>\n                            <div className=\"modal-form-inputs\">\n                                <h3><span>* </span>{t(\"When is it?\")}</h3>\n                                <div className=\"modal-form-datetime\" >\n                                    <label>\n                                    {t(\"Event Date\")}<input type=\"date\" name=\"date\" onChange={handleDateChange}  value={date.date}/>\n                                    </label>\n                                    <label>\n                                    {t(\"Start Time\")}<input type=\"time\" name=\"startTime\" onChange={handleDateChange} value={date.startTime}/>\n                                    </label>\n                                    <label>\n                                    {t(\"End Time\")}<input type=\"time\" name=\"endTime\" onChange={handleDateChange} value={date.endTime}/>\n                                    </label>\n                                </div>\n                            </div>\n\n                            <div className=\"modal-form-inputs\">\n                                <h3><span>* </span>{t(\"Enter your event's URL\")}</h3>\n                                <input \n                                    name=\"itemURL\" \n                                    type=\"text\" \n                                    placeholder=\"www.amazing-event.com/live-video-url\"\n                                    onChange={handleChange}\n                                    value={state.itemURL}\n                                />\n                            </div>\n                            <div className=\"modal-form-categories\">\n                                <h3><span>* </span>{t(\"Choose Category\")}</h3>\n                                <div className=\"modal-form-categories-radio\">\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Kids\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"kids\"\n                                            onChange={handleCategoryChange}/>\n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Lectures\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"lectures\"\n                                            onChange={handleCategoryChange}/>\n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Fitness\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"fitness\"\n                                            onChange={handleCategoryChange}/> \n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Fun\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"fun\"\n                                            onChange={handleCategoryChange}/> \n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    {isError ? <h4 style={{color:\"red\"}}>You must complete the form before submitting!</h4> : null}\n                    <button className=\"modal-submit-button\" type=\"button\" onClick={handleSubmit}>\n                        <FontAwesomeIcon className={t(\"lang\") === \"he\" ? \"modal-submit-button-icon-rtl\" : \"modal-submit-button-icon\"} icon={faPlus} size=\"1x\"/>\n                        {t(\"Add Event\")}\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AddEventModal"]},"metadata":{},"sourceType":"module"}