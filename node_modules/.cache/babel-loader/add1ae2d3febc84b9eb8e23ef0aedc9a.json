{"ast":null,"code":"import _regeneratorRuntime from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Deps\nimport React,{useState,useEffect}from'react';import{debounce}from\"lodash\";import moment from\"moment\";import{useTranslation}from'react-i18next';import ReactGA from'react-ga';import*as firebase from\"firebase/app\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faChevronLeft,faChevronRight,faArrowAltCircleUp}from'@fortawesome/free-solid-svg-icons';// Components\nimport'./app.css';import Header from\"./Header\";import DaysPanel from\"./DaysPanel\";import CategoryPanel from\"./CategoryPanel\";import FeedPanel from'./FeedPanel';import Loading from\"./Loading\";import Footer from\"./Footer\";function App(){// Google Analytics\nReactGA.initialize('UA-162926417-1');ReactGA.pageview(\"/app\");// Translation\nvar _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var changeLanguage=function changeLanguage(lang){setLanguage(lang);i18n.changeLanguage(lang);};var _useState=useState(null),_useState2=_slicedToArray(_useState,2),feedItems=_useState2[0],setFeedItems=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),autoComleteFeed=_useState4[0],setAutoComleteFeed=_useState4[1];var _useState5=useState(\"all\"),_useState6=_slicedToArray(_useState5,2),daySelected=_useState6[0],setDaySelected=_useState6[1];//useState(moment().format('YYYY-MM-DD'))\nvar _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),catSelected=_useState8[0],setCatSelected=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1];var _useState11=useState(\"en\"),_useState12=_slicedToArray(_useState11,2),language=_useState12[0],setLanguage=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),searchTerm=_useState14[0],setSearchTerm=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),searchFilter=_useState16[0],setSearchFilter=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isLoggedIn=_useState18[0],setIsLoggedIn=_useState18[1];var _useState19=useState({displayName:\"\",savedItems:\"\",email:\"\",userId:\"\"}),_useState20=_slicedToArray(_useState19,2),userData=_useState20[0],setUserData=_useState20[1];useEffect(function(){if(userData.savedItems){var savedListArr=userData.savedItems.split(\",\");var tempArr=_toConsumableArray(savedListArr);feedItems&&savedListArr.map(function(itemID){var itemNotFound=feedItems.find(function(item){return item.itemID===parseInt(itemID);});if(!itemNotFound){var toDelete=tempArr.indexOf(itemID);tempArr.splice(toDelete,1);var newList=tempArr.join(',');setUserData(function(prevState){return _objectSpread({},prevState,{savedItems:newList});});firebase.auth().currentUser.updateProfile({photoURL:newList});console.log(\"toDelete\",toDelete);console.log(\"ItemToDelete:\",itemID);console.log(\"tempArr:\",tempArr);console.log(\"NewList:\",newList);console.log(\"savedListArr:\",savedListArr);}});}},[feedItems]);useEffect(function(){var authListener=firebase.auth().onAuthStateChanged(function(user){if(user){setIsLoggedIn(true);console.log(\"User Authenticated:\",user);if(user.photoURL&&user.photoURL.includes(\"https://\")){setUserData(function(prevState){return _objectSpread({},prevState,{displayName:user.displayName,savedItems:\"\",email:user.email,userId:user.uid});});}else{setUserData(function(prevState){return _objectSpread({},prevState,{displayName:user.displayName,savedItems:user.photoURL,email:user.email,userId:user.uid});});}}else{setIsLoggedIn(false);console.log(\"No User:\",user);}});return authListener;},[]);window.baseUrl=\"https://stream-hub.net/api/\";// window.baseUrl=\"https://localhost:44339/api\";\nwindow.allowPostWithoutLogin=true;var fetchItems=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var apiCall,items;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(window.baseUrl,\"items/\"));case 2:apiCall=_context.sent;_context.next=5;return apiCall.json();case 5:items=_context.sent;setAutoComleteFeed(items);setFeedItems(items);setIsLoading(false);setLanguage(i18n.language);case 10:case\"end\":return _context.stop();}}},_callee);}));return function fetchItems(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchItems();},[]);useEffect(function(){var timer=setTimeout(function(){setSearchFilter(searchTerm);},800);return function(){return clearTimeout(timer);};},[searchTerm]);if(isLoading)return/*#__PURE__*/React.createElement(Loading,null);return/*#__PURE__*/React.createElement(\"div\",{className:\"app\",style:language===\"he\"?{direction:\"rtl\"}:null},/*#__PURE__*/React.createElement(\"div\",{className:\"app-header-container\"},/*#__PURE__*/React.createElement(Header,{autoComleteFeed:autoComleteFeed,language:language,changeLanguage:changeLanguage,setSearchTerm:setSearchTerm,searchTerm:searchTerm,setIsLoggedIn:setIsLoggedIn,isLoggedIn:isLoggedIn,setUserData:setUserData,userData:userData,feedItems:feedItems})),/*#__PURE__*/React.createElement(\"div\",{className:\"app-banner-container\"},/*#__PURE__*/React.createElement(\"div\",{style:{height:\"150px\"}})),/*#__PURE__*/React.createElement(\"div\",{className:\"app-categories-container\"},/*#__PURE__*/React.createElement(CategoryPanel,{cat:setCatSelected})),/*#__PURE__*/React.createElement(\"div\",{className:\"app-days-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"days-panel-slider-arrows\"},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronLeft}),/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:faChevronRight})),/*#__PURE__*/React.createElement(DaysPanel,{dayChange:setDaySelected,day:setDaySelected})),/*#__PURE__*/React.createElement(\"div\",{className:\"app-feed-container\"},/*#__PURE__*/React.createElement(FeedPanel,{feed:feedItems,dayFilter:daySelected,catFilter:catSelected,searchFilter:searchFilter,isLoggedIn:isLoggedIn,setUserData:setUserData,userData:userData})),/*#__PURE__*/React.createElement(\"div\",{className:\"app-footer-container\"},/*#__PURE__*/React.createElement(Footer,null)));}export default App;","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/App.js"],"names":["React","useState","useEffect","debounce","moment","useTranslation","ReactGA","firebase","FontAwesomeIcon","faChevronLeft","faChevronRight","faArrowAltCircleUp","Header","DaysPanel","CategoryPanel","FeedPanel","Loading","Footer","App","initialize","pageview","t","i18n","changeLanguage","lang","setLanguage","feedItems","setFeedItems","autoComleteFeed","setAutoComleteFeed","daySelected","setDaySelected","catSelected","setCatSelected","isLoading","setIsLoading","language","searchTerm","setSearchTerm","searchFilter","setSearchFilter","isLoggedIn","setIsLoggedIn","displayName","savedItems","email","userId","userData","setUserData","savedListArr","split","tempArr","map","itemID","itemNotFound","find","item","parseInt","toDelete","indexOf","splice","newList","join","prevState","auth","currentUser","updateProfile","photoURL","console","log","authListener","onAuthStateChanged","user","includes","uid","window","baseUrl","allowPostWithoutLogin","fetchItems","fetch","apiCall","json","items","timer","setTimeout","clearTimeout","direction","height"],"mappings":"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","sourcesContent":["// Deps\nimport React,{ useState, useEffect } from 'react'\nimport { debounce } from \"lodash\";\nimport moment from \"moment\"\nimport { useTranslation } from 'react-i18next'\nimport ReactGA from 'react-ga'\nimport * as firebase from \"firebase/app\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft, faChevronRight, faArrowAltCircleUp } from '@fortawesome/free-solid-svg-icons'\n\n// Components\nimport './app.css'\nimport Header from \"./Header\"\nimport DaysPanel from \"./DaysPanel\"\nimport CategoryPanel from \"./CategoryPanel\"\nimport FeedPanel from './FeedPanel'\nimport Loading from \"./Loading\"\nimport Footer from \"./Footer\"\n\nfunction App() {\n\n  // Google Analytics\n  ReactGA.initialize('UA-162926417-1')\n  ReactGA.pageview(\"/app\")\n\n  // Translation\n  const { t, i18n } = useTranslation()\n\n  const changeLanguage = lang => {\n    setLanguage(lang)\n    i18n.changeLanguage(lang)\n  }\n  \n  const [feedItems, setFeedItems] = useState(null)\n  const [autoComleteFeed,setAutoComleteFeed]= useState([])\n  const [daySelected, setDaySelected] = useState(\"all\") //useState(moment().format('YYYY-MM-DD'))\n  const [catSelected, setCatSelected] = useState(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [language, setLanguage] = useState(\"en\")\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [searchFilter, setSearchFilter] = useState(\"\")\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\n  const [userData, setUserData] = useState({\n    displayName: \"\",\n    savedItems: \"\",\n    email: \"\",\n    userId: \"\",\n  })\n\n\n  useEffect(() => {\n    if(userData.savedItems) {\n      const savedListArr = userData.savedItems.split(\",\")\n      const tempArr = [...savedListArr]\n      feedItems && savedListArr.map(itemID => {\n        const itemNotFound = feedItems.find(item => item.itemID === parseInt(itemID))\n        if(!itemNotFound){\n          const toDelete = tempArr.indexOf(itemID)\n          tempArr.splice(toDelete, 1)\n          const newList = tempArr.join(',')\n\n          setUserData(prevState => ({...prevState, savedItems: newList}))\n          firebase.auth().currentUser.updateProfile({photoURL: newList})\n\n          console.log(\"toDelete\",toDelete)\n          console.log(\"ItemToDelete:\",itemID)\n          console.log(\"tempArr:\",tempArr)\n          console.log(\"NewList:\",newList)\n          console.log(\"savedListArr:\",savedListArr)\n        }\n      })\n    }\n  }, [feedItems])\n\n\n  useEffect(() => {\n    const authListener = firebase.auth().onAuthStateChanged(function(user) {\n      if (user) {\n        setIsLoggedIn(true)\n        console.log(\"User Authenticated:\",user)\n        if (user.photoURL && user.photoURL.includes(\"https://\")){\n          setUserData(prevState => ({\n            ...prevState, \n            displayName: user.displayName,\n            savedItems: \"\",\n            email: user.email,\n            userId: user.uid,\n          }))\n        } else {\n\n          setUserData(prevState => ({\n            ...prevState, \n            displayName: user.displayName,\n            savedItems: user.photoURL,\n            email: user.email,\n            userId: user.uid,\n          }))\n        }\n      } else {\n        setIsLoggedIn(false)\n        console.log(\"No User:\",user)\n      }\n    })\n    return authListener\n  }, [])\n\n  window.baseUrl=\"https://stream-hub.net/api/\";\n // window.baseUrl=\"https://localhost:44339/api\";\n  window.allowPostWithoutLogin=true;\n  const fetchItems = async () => {\n    const apiCall = await fetch(`${ window.baseUrl}items/`);\n    const items = await apiCall.json()\n    setAutoComleteFeed(items)\n    setFeedItems(items)\n    setIsLoading(false)\n    setLanguage(i18n.language)\n  }\n  \n  useEffect(() => {\n    fetchItems()\n  },[])\n  \n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setSearchFilter(searchTerm);\n    }, 800);\n\n    return () => clearTimeout(timer);\n  }, [searchTerm]);\n\n  if (isLoading) return (<Loading />)\n  return (\n\n    <div className=\"app\" style={language === \"he\" ? {direction: \"rtl\"} : null}>\n      \n      <div className=\"app-header-container\">\n        <Header \n        autoComleteFeed={autoComleteFeed} \n        language={language} \n        changeLanguage={changeLanguage} \n        setSearchTerm={setSearchTerm}\n        searchTerm={searchTerm}\n        setIsLoggedIn={setIsLoggedIn}\n        isLoggedIn={isLoggedIn}\n        setUserData={setUserData}\n        userData={userData}\n        feedItems={feedItems}\n        />\n      </div>\n      <div className=\"app-banner-container\">\n        <div style={{height:\"150px\"}}></div>\n      </div>\n      <div className=\"app-categories-container\">\n        <CategoryPanel \n        cat={setCatSelected}\n        />\n      </div>\n      <div className=\"app-days-container\">\n        <div className=\"days-panel-slider-arrows\">\n          <FontAwesomeIcon icon={faChevronLeft}/>\n          <FontAwesomeIcon icon={faChevronRight}/>\n        </div>\n        <DaysPanel \n        dayChange={setDaySelected} \n        day={setDaySelected}\n        />\n      </div>\n      <div className=\"app-feed-container\">\n        <FeedPanel \n        feed={feedItems} \n        dayFilter={daySelected} \n        catFilter={catSelected} \n        searchFilter={searchFilter}\n        isLoggedIn={isLoggedIn}\n        setUserData={setUserData}\n        userData={userData}\n        />\n      </div>\n      <div className=\"app-footer-container\">\n        <Footer />\n      </div>\n    </div>\n\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}