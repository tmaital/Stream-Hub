{"ast":null,"code":"import _classCallCheck from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{withTranslation}from'react-i18next';import FeedItem from\"./FeedItem\";import'./feed-panel.css';import{th}from\"date-fns/locale\";import moment from'moment';import'moment-timezone';var fitness0=\"https://i.ibb.co/GPLBKBP/fitness0.jpg\";var fitness1=\"https://i.ibb.co/QYNpdxZ/fitness1.jpg\";var fitness2=\"https://i.ibb.co/Nyb1tNF/fitness2.jpg\";var fitness3=\"https://i.ibb.co/vHmPGg6/fitness3.jpg\";var fitness4=\"https://i.ibb.co/896W3FC/fitness4.jpg\";var fitness5=\"https://i.ibb.co/yB1w9f0/fitness5.jpg\";var fitness6=\"https://i.ibb.co/9cRPggR/fitness6.jpg\";var fitness7=\"https://i.ibb.co/VC0DFsL/fitness7.jpg\";var fitness8=\"https://i.ibb.co/Lz4ryKF/fitness8.jpg\";var fitness9=\"https://i.ibb.co/Gs6G6jp/fitness9.jpg\";var fun0=\"https://i.ibb.co/2MrrK0n/fun0.jpg\";var fun1=\"https://i.ibb.co/g49jHdz/fun1.jpg\";var fun2=\"https://i.ibb.co/8B0PK8p/fun2.jpg\";var fun3=\"https://i.ibb.co/PtTpdmV/fun3.jpg\";var fun4=\"https://i.ibb.co/BB9GTbr/fun4.jpg\";var fun5=\"https://i.ibb.co/x2m1QnR/fun5.jpg\";var fun6=\"https://i.ibb.co/z7Ft1y8/fun6.jpg\";var fun7=\"https://i.ibb.co/x2QNzM1/fun7.jpg\";var fun8=\"https://i.ibb.co/yYL4X63/fun8.jpg\";var fun9=\"https://i.ibb.co/S3BmQkq/fun9.jpg\";var kids0=\"https://i.ibb.co/4dYc16d/kids0.jpg\";var kids1=\"https://i.ibb.co/KbpzrtW/kids1.jpg\";var kids2=\"https://i.ibb.co/kXmbpmt/kids2.jpg\";var kids3=\"https://i.ibb.co/MSmdRKQ/kids3.jpg\";var kids4=\"https://i.ibb.co/xJqxhRC/kids4.jpg\";var kids5=\"https://i.ibb.co/cDRvzhH/kids5.jpg\";var kids6=\"https://i.ibb.co/CPxdm9H/kids6.jpg\";var kids7=\"https://i.ibb.co/25nzPfy/kids7.jpg\";var kids8=\"https://i.ibb.co/sKH3SLT/kids8.jpg\";var kids9=\"https://i.ibb.co/SXmRmP9/kids9.jpg\";var lectures0=\"https://i.ibb.co/7kSm3yv/lectures0.jpg\";var lectures1=\"https://i.ibb.co/tz44h9F/lectures1.jpg\";var lectures2=\"https://i.ibb.co/N3bqjb7/lectures2.jpg\";var lectures3=\"https://i.ibb.co/qN0yjvM/lectures3.jpg\";var lectures4=\"https://i.ibb.co/nRtPWNg/lectures4.jpg\";var lectures5=\"https://i.ibb.co/SKS7Wy6/lectures5.jpg\";var lectures6=\"https://i.ibb.co/kqHCBJr/lectures6.jpg\";var lectures7=\"https://i.ibb.co/jJ913L6/lectures7.jpg\";var lectures8=\"https://i.ibb.co/mBcMjGb/lectures8.jpg\";var lectures9=\"https://i.ibb.co/8bhVQr7/lectures9.jpg\";var other0=\"https://i.ibb.co/wyFyDbB/random0.jpg\";var other1=\"https://i.ibb.co/M7H8xGM/random1.jpg\";var other2=\"https://i.ibb.co/sjMxzJ4/random2.jpg\";var other3=\"https://i.ibb.co/Jyd2syT/random3.jpg\";var other4=\"https://i.ibb.co/pJ46JKC/random4.jpg\";var other5=\"https://i.ibb.co/Mh1kC9r/random5.jpg\";var other6=\"https://i.ibb.co/NyzgHjB/random6.jpg\";var other7=\"https://i.ibb.co/2hdkWQR/random7.jpg\";var other8=\"https://i.ibb.co/KN1YqcJ/random8.jpg\";var other9=\"https://i.ibb.co/cYXtgmX/random9.jpg\";var FeedPanel=/*#__PURE__*/function(_Component){_inherits(FeedPanel,_Component);var _super=_createSuper(FeedPanel);function FeedPanel(props){var _this;_classCallCheck(this,FeedPanel);_this=_super.call(this,props);_this.state={map:null,count:\"0 Results\",itemsFromLoad:0,itemsToLoad:100};_this.singleDigit=_this.singleDigit.bind(_assertThisInitialized(_this));return _this;}_createClass(FeedPanel,[{key:\"singleDigit\",value:function singleDigit(value){while(value>9){value.toString().split('').map(Number).reduce(function(a,b){return value=a+b;});}return value;}},{key:\"render\",value:function render(){var _this2=this;var t=this.props.t;var availableCats=[\"kids\",\"lectures\",\"fitness\",\"fun\"];// const feedItems2 = this.props.feed && this.props.feed.map(item => {\n//     const hostImage = item.itemImgURL\n//     return( <FeedItem \n//             key={item.itemID} \n//             feed={item} \n//             image={hostImage} \n//             handleCount={this.handleCount} \n//             isLoggedIn={true}\n//             setUserData={\"none\"}\n//             userData={\"none\"}\n//             />\n//     )\n// })\n//2020-09-14T01:00:00 \n//Feed item (Category / Date / Search) filtering\nvar feedItems=this.props.feed&&this.props.feed.map(function(item){var itemStartDate=moment.utc(item.itemStartDateObj).local().format('YYYY-MM-DDTHH:mm:ss');var itemDate=itemStartDate&&itemStartDate.slice(0,10);// console.log(\"time from DB (UTC):\",item.itemStartDateObj)\n// console.log(\"time converted from UTC:\",itemStartDate)\n// console.log(\"item Date:\", itemDate)\nvar itemCategoryArr=eval(item.itemTags);var itemCategory=itemCategoryArr?availableCats.indexOf(itemCategoryArr[0])!==-1?itemCategoryArr[0]:null:\"other\";var itemSearch=item.itemTitle.toUpperCase().includes(_this2.props.searchFilter.toUpperCase());//const randomImage = `https://i.picsum.photos/id/${Math.floor(Math.random() * 1000)}/200/300.jpg`\nvar hostImage=item.itemImgURL;var stockImage=itemCategory?eval(itemCategory+_this2.singleDigit(item.itemTitle.length)):eval(\"other\"+_this2.singleDigit(item.itemTitle.length));var itemImg=hostImage?hostImage:stockImage;var feedItem=/*#__PURE__*/React.createElement(FeedItem,{key:item.itemID,feed:item,image:itemImg,handleCount:_this2.handleCount,isLoggedIn:_this2.props.isLoggedIn,setUserData:_this2.props.setUserData,userData:_this2.props.userData});if(_this2.props.dayFilter===itemDate&&!_this2.props.catFilter){if(!_this2.props.searchFilter){return feedItem;}else if(itemSearch){return feedItem;}}else if(_this2.props.dayFilter===itemDate&&_this2.props.catFilter===itemCategory){if(!_this2.props.searchFilter){return feedItem;}else if(itemSearch){return feedItem;}}else if(!_this2.props.dayFilter||_this2.props.dayFilter===\"all\"&&!_this2.props.catFilter){if(!_this2.props.searchFilter){return feedItem;}else if(itemSearch){return feedItem;}}else if(!_this2.props.dayFilter||_this2.props.dayFilter===\"all\"&&_this2.props.catFilter===itemCategory){if(!_this2.props.searchFilter){return feedItem;}else if(itemSearch){return feedItem;}}return null;});var filtered=feedItems.filter(function(el){return el!=null;});var results=filtered.length;return/*#__PURE__*/React.createElement(\"div\",{className:\"feed-panel\"},this.props.searchFilter?/*#__PURE__*/React.createElement(\"h2\",{className:\"feed-panel-title\"},t(\"Search Results\")):null,this.props.searchFilter?/*#__PURE__*/React.createElement(\"h3\",{className:\"feed-panel-title-items\"},results,\" \",t(\"Results\")):null,/*#__PURE__*/React.createElement(\"div\",{className:\"feed-scroll-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"feed-item-container\"},feedItems)));}}]);return FeedPanel;}(Component);export default withTranslation()(FeedPanel);","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/FeedPanel.js"],"names":["React","Component","withTranslation","FeedItem","th","moment","fitness0","fitness1","fitness2","fitness3","fitness4","fitness5","fitness6","fitness7","fitness8","fitness9","fun0","fun1","fun2","fun3","fun4","fun5","fun6","fun7","fun8","fun9","kids0","kids1","kids2","kids3","kids4","kids5","kids6","kids7","kids8","kids9","lectures0","lectures1","lectures2","lectures3","lectures4","lectures5","lectures6","lectures7","lectures8","lectures9","other0","other1","other2","other3","other4","other5","other6","other7","other8","other9","FeedPanel","props","state","map","count","itemsFromLoad","itemsToLoad","singleDigit","bind","value","toString","split","Number","reduce","a","b","t","availableCats","feedItems","feed","item","itemStartDate","utc","itemStartDateObj","local","format","itemDate","slice","itemCategoryArr","eval","itemTags","itemCategory","indexOf","itemSearch","itemTitle","toUpperCase","includes","searchFilter","hostImage","itemImgURL","stockImage","length","itemImg","feedItem","itemID","handleCount","isLoggedIn","setUserData","userData","dayFilter","catFilter","filtered","filter","el","results"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport { withTranslation } from 'react-i18next';\nimport FeedItem from \"./FeedItem\";\nimport './feed-panel.css';\nimport { th } from \"date-fns/locale\";\nimport moment from 'moment';\nimport 'moment-timezone';\n\nconst fitness0 = \"https://i.ibb.co/GPLBKBP/fitness0.jpg\" \nconst fitness1 = \"https://i.ibb.co/QYNpdxZ/fitness1.jpg\" \nconst fitness2 = \"https://i.ibb.co/Nyb1tNF/fitness2.jpg\" \nconst fitness3 = \"https://i.ibb.co/vHmPGg6/fitness3.jpg\" \nconst fitness4 = \"https://i.ibb.co/896W3FC/fitness4.jpg\" \nconst fitness5 = \"https://i.ibb.co/yB1w9f0/fitness5.jpg\" \nconst fitness6 = \"https://i.ibb.co/9cRPggR/fitness6.jpg\" \nconst fitness7 = \"https://i.ibb.co/VC0DFsL/fitness7.jpg\" \nconst fitness8 = \"https://i.ibb.co/Lz4ryKF/fitness8.jpg\" \nconst fitness9 = \"https://i.ibb.co/Gs6G6jp/fitness9.jpg\" \nconst fun0 = \"https://i.ibb.co/2MrrK0n/fun0.jpg\" \nconst fun1 = \"https://i.ibb.co/g49jHdz/fun1.jpg\" \nconst fun2 = \"https://i.ibb.co/8B0PK8p/fun2.jpg\" \nconst fun3 = \"https://i.ibb.co/PtTpdmV/fun3.jpg\" \nconst fun4 = \"https://i.ibb.co/BB9GTbr/fun4.jpg\" \nconst fun5 = \"https://i.ibb.co/x2m1QnR/fun5.jpg\" \nconst fun6 = \"https://i.ibb.co/z7Ft1y8/fun6.jpg\" \nconst fun7 = \"https://i.ibb.co/x2QNzM1/fun7.jpg\" \nconst fun8 = \"https://i.ibb.co/yYL4X63/fun8.jpg\" \nconst fun9 = \"https://i.ibb.co/S3BmQkq/fun9.jpg\" \nconst kids0 = \"https://i.ibb.co/4dYc16d/kids0.jpg\" \nconst kids1 = \"https://i.ibb.co/KbpzrtW/kids1.jpg\" \nconst kids2 = \"https://i.ibb.co/kXmbpmt/kids2.jpg\" \nconst kids3 = \"https://i.ibb.co/MSmdRKQ/kids3.jpg\" \nconst kids4 = \"https://i.ibb.co/xJqxhRC/kids4.jpg\" \nconst kids5 = \"https://i.ibb.co/cDRvzhH/kids5.jpg\" \nconst kids6 = \"https://i.ibb.co/CPxdm9H/kids6.jpg\" \nconst kids7 = \"https://i.ibb.co/25nzPfy/kids7.jpg\" \nconst kids8 = \"https://i.ibb.co/sKH3SLT/kids8.jpg\" \nconst kids9 = \"https://i.ibb.co/SXmRmP9/kids9.jpg\" \nconst lectures0 = \"https://i.ibb.co/7kSm3yv/lectures0.jpg\" \nconst lectures1 = \"https://i.ibb.co/tz44h9F/lectures1.jpg\" \nconst lectures2 = \"https://i.ibb.co/N3bqjb7/lectures2.jpg\" \nconst lectures3 = \"https://i.ibb.co/qN0yjvM/lectures3.jpg\" \nconst lectures4 = \"https://i.ibb.co/nRtPWNg/lectures4.jpg\" \nconst lectures5 = \"https://i.ibb.co/SKS7Wy6/lectures5.jpg\" \nconst lectures6 = \"https://i.ibb.co/kqHCBJr/lectures6.jpg\" \nconst lectures7 = \"https://i.ibb.co/jJ913L6/lectures7.jpg\" \nconst lectures8 = \"https://i.ibb.co/mBcMjGb/lectures8.jpg\" \nconst lectures9 = \"https://i.ibb.co/8bhVQr7/lectures9.jpg\" \nconst other0 = \"https://i.ibb.co/wyFyDbB/random0.jpg\" \nconst other1 = \"https://i.ibb.co/M7H8xGM/random1.jpg\" \nconst other2 = \"https://i.ibb.co/sjMxzJ4/random2.jpg\" \nconst other3 = \"https://i.ibb.co/Jyd2syT/random3.jpg\" \nconst other4 = \"https://i.ibb.co/pJ46JKC/random4.jpg\" \nconst other5 = \"https://i.ibb.co/Mh1kC9r/random5.jpg\" \nconst other6 = \"https://i.ibb.co/NyzgHjB/random6.jpg\" \nconst other7 = \"https://i.ibb.co/2hdkWQR/random7.jpg\" \nconst other8 = \"https://i.ibb.co/KN1YqcJ/random8.jpg\" \nconst other9 = \"https://i.ibb.co/cYXtgmX/random9.jpg\" \n\nclass FeedPanel extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            map: null,\n            count: \"0 Results\",\n            itemsFromLoad: 0,\n            itemsToLoad: 100\n        }\n        this.singleDigit = this.singleDigit.bind(this)\n    }\n    \n    singleDigit(value){\n        while (value > 9) {\n          value\n            .toString()\n            .split('')\n            .map(Number)\n            .reduce(function (a, b) {return value = a + b})\n        } return value\n      }\n\n    render(){\n\n        const { t } = this.props\n        \n        const availableCats = [\"kids\",\"lectures\",\"fitness\",\"fun\"]\n\n\n        // const feedItems2 = this.props.feed && this.props.feed.map(item => {\n        //     const hostImage = item.itemImgURL\n        //     return( <FeedItem \n        //             key={item.itemID} \n        //             feed={item} \n        //             image={hostImage} \n        //             handleCount={this.handleCount} \n        //             isLoggedIn={true}\n        //             setUserData={\"none\"}\n        //             userData={\"none\"}\n        //             />\n        //     )\n        // })\n        //2020-09-14T01:00:00 \n        //Feed item (Category / Date / Search) filtering\n        const feedItems = this.props.feed && this.props.feed.map(item => {\n\n\n            const itemStartDate = moment.utc(item.itemStartDateObj).local().format('YYYY-MM-DDTHH:mm:ss')\n            const itemDate = itemStartDate && itemStartDate.slice(0,10)\n\n            // console.log(\"time from DB (UTC):\",item.itemStartDateObj)\n            // console.log(\"time converted from UTC:\",itemStartDate)\n            // console.log(\"item Date:\", itemDate)\n\n            const itemCategoryArr = eval(item.itemTags)\n            const itemCategory = itemCategoryArr ? (availableCats.indexOf(itemCategoryArr[0]) !== -1 ? itemCategoryArr[0] : null) : \"other\"\n\n            const itemSearch = item.itemTitle.toUpperCase().includes(this.props.searchFilter.toUpperCase())\n            //const randomImage = `https://i.picsum.photos/id/${Math.floor(Math.random() * 1000)}/200/300.jpg`\n            const hostImage = item.itemImgURL\n            const stockImage = itemCategory ? eval(itemCategory+this.singleDigit(item.itemTitle.length)) : eval(\"other\"+this.singleDigit(item.itemTitle.length))\n            const itemImg = hostImage ? hostImage : stockImage\n            const feedItem = <FeedItem \n                                key={item.itemID} \n                                feed={item} \n                                image={itemImg} \n                                handleCount={this.handleCount} \n                                isLoggedIn={this.props.isLoggedIn}\n                                setUserData={this.props.setUserData}\n                                userData={this.props.userData}\n                             />\n            if (this.props.dayFilter === itemDate && !this.props.catFilter) {\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            } else if(this.props.dayFilter === itemDate && this.props.catFilter === itemCategory) {\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            }  else if(!this.props.dayFilter || this.props.dayFilter === \"all\" && !this.props.catFilter){\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            }  else if(!this.props.dayFilter || this.props.dayFilter === \"all\" && this.props.catFilter === itemCategory){\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            } return null\n\n        })\n        \n\n        const filtered = feedItems.filter(function (el) {\n        return el != null;\n        });\n\n        const results = filtered.length\n\n        return(\n            <div className=\"feed-panel\">\n                {this.props.searchFilter ? <h2 className=\"feed-panel-title\">{t(\"Search Results\")}</h2> : null}\n                {this.props.searchFilter ? <h3 className=\"feed-panel-title-items\">{results} {t(\"Results\")}</h3> : null}\n                <div className=\"feed-scroll-container\">\n                    <div className=\"feed-item-container\">\n                        {feedItems}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withTranslation()(FeedPanel)"]},"metadata":{},"sourceType":"module"}