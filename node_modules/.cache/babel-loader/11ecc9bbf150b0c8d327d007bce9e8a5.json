{"ast":null,"code":"var _jsxFileName = \"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/FeedPanel.js\";\nimport React, { Component } from \"react\";\nimport { withTranslation } from 'react-i18next';\nimport FeedItem from \"./FeedItem\";\nimport './feed-panel.css';\nimport { th } from \"date-fns/locale\";\nimport moment from 'moment';\nimport 'moment-timezone';\nconst fitness0 = \"https://i.ibb.co/GPLBKBP/fitness0.jpg\";\nconst fitness1 = \"https://i.ibb.co/QYNpdxZ/fitness1.jpg\";\nconst fitness2 = \"https://i.ibb.co/Nyb1tNF/fitness2.jpg\";\nconst fitness3 = \"https://i.ibb.co/vHmPGg6/fitness3.jpg\";\nconst fitness4 = \"https://i.ibb.co/896W3FC/fitness4.jpg\";\nconst fitness5 = \"https://i.ibb.co/yB1w9f0/fitness5.jpg\";\nconst fitness6 = \"https://i.ibb.co/9cRPggR/fitness6.jpg\";\nconst fitness7 = \"https://i.ibb.co/VC0DFsL/fitness7.jpg\";\nconst fitness8 = \"https://i.ibb.co/Lz4ryKF/fitness8.jpg\";\nconst fitness9 = \"https://i.ibb.co/Gs6G6jp/fitness9.jpg\";\nconst fun0 = \"https://i.ibb.co/2MrrK0n/fun0.jpg\";\nconst fun1 = \"https://i.ibb.co/g49jHdz/fun1.jpg\";\nconst fun2 = \"https://i.ibb.co/8B0PK8p/fun2.jpg\";\nconst fun3 = \"https://i.ibb.co/PtTpdmV/fun3.jpg\";\nconst fun4 = \"https://i.ibb.co/BB9GTbr/fun4.jpg\";\nconst fun5 = \"https://i.ibb.co/x2m1QnR/fun5.jpg\";\nconst fun6 = \"https://i.ibb.co/z7Ft1y8/fun6.jpg\";\nconst fun7 = \"https://i.ibb.co/x2QNzM1/fun7.jpg\";\nconst fun8 = \"https://i.ibb.co/yYL4X63/fun8.jpg\";\nconst fun9 = \"https://i.ibb.co/S3BmQkq/fun9.jpg\";\nconst kids0 = \"https://i.ibb.co/4dYc16d/kids0.jpg\";\nconst kids1 = \"https://i.ibb.co/KbpzrtW/kids1.jpg\";\nconst kids2 = \"https://i.ibb.co/kXmbpmt/kids2.jpg\";\nconst kids3 = \"https://i.ibb.co/MSmdRKQ/kids3.jpg\";\nconst kids4 = \"https://i.ibb.co/xJqxhRC/kids4.jpg\";\nconst kids5 = \"https://i.ibb.co/cDRvzhH/kids5.jpg\";\nconst kids6 = \"https://i.ibb.co/CPxdm9H/kids6.jpg\";\nconst kids7 = \"https://i.ibb.co/25nzPfy/kids7.jpg\";\nconst kids8 = \"https://i.ibb.co/sKH3SLT/kids8.jpg\";\nconst kids9 = \"https://i.ibb.co/SXmRmP9/kids9.jpg\";\nconst lectures0 = \"https://i.ibb.co/7kSm3yv/lectures0.jpg\";\nconst lectures1 = \"https://i.ibb.co/tz44h9F/lectures1.jpg\";\nconst lectures2 = \"https://i.ibb.co/N3bqjb7/lectures2.jpg\";\nconst lectures3 = \"https://i.ibb.co/qN0yjvM/lectures3.jpg\";\nconst lectures4 = \"https://i.ibb.co/nRtPWNg/lectures4.jpg\";\nconst lectures5 = \"https://i.ibb.co/SKS7Wy6/lectures5.jpg\";\nconst lectures6 = \"https://i.ibb.co/kqHCBJr/lectures6.jpg\";\nconst lectures7 = \"https://i.ibb.co/jJ913L6/lectures7.jpg\";\nconst lectures8 = \"https://i.ibb.co/mBcMjGb/lectures8.jpg\";\nconst lectures9 = \"https://i.ibb.co/8bhVQr7/lectures9.jpg\";\nconst other0 = \"https://i.ibb.co/wyFyDbB/random0.jpg\";\nconst other1 = \"https://i.ibb.co/M7H8xGM/random1.jpg\";\nconst other2 = \"https://i.ibb.co/sjMxzJ4/random2.jpg\";\nconst other3 = \"https://i.ibb.co/Jyd2syT/random3.jpg\";\nconst other4 = \"https://i.ibb.co/pJ46JKC/random4.jpg\";\nconst other5 = \"https://i.ibb.co/Mh1kC9r/random5.jpg\";\nconst other6 = \"https://i.ibb.co/NyzgHjB/random6.jpg\";\nconst other7 = \"https://i.ibb.co/2hdkWQR/random7.jpg\";\nconst other8 = \"https://i.ibb.co/KN1YqcJ/random8.jpg\";\nconst other9 = \"https://i.ibb.co/cYXtgmX/random9.jpg\";\n\nclass FeedPanel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      map: null,\n      count: \"0 Results\",\n      itemsFromLoad: 0,\n      itemsToLoad: 100\n    };\n    this.singleDigit = this.singleDigit.bind(this);\n  }\n\n  singleDigit(value) {\n    while (value > 9) {\n      value.toString().split('').map(Number).reduce(function (a, b) {\n        return value = a + b;\n      });\n    }\n\n    return value;\n  }\n\n  render() {\n    const {\n      t\n    } = this.props;\n    const availableCats = [\"kids\", \"lectures\", \"fitness\", \"fun\"]; // const feedItems2 = this.props.feed && this.props.feed.map(item => {\n    //     const hostImage = item.itemImgURL\n    //     return( <FeedItem \n    //             key={item.itemID} \n    //             feed={item} \n    //             image={hostImage} \n    //             handleCount={this.handleCount} \n    //             isLoggedIn={true}\n    //             setUserData={\"none\"}\n    //             userData={\"none\"}\n    //             />\n    //     )\n    // })\n    //2020-09-14T01:00:00 \n    //Feed item (Category / Date / Search) filtering\n\n    const feedItems = this.props.feed && this.props.feed.map(item => {\n      console.log(\"time from DB:\", item.itemStartDateObj);\n      itemDate && console.log(\"time converted to UTC:\", itemStartDate);\n      itemDate && console.log(\"item Date:\", itemDate);\n      const itemStartDate = moment.utc(item.itemStartDateObj).local().format('YYYY-MM-DDTHH:mm:ss');\n      const itemDate = itemStartDate && itemStartDate.slice(0, 10);\n      const itemCategoryArr = eval(item.itemTags);\n      const itemCategory = itemCategoryArr ? availableCats.indexOf(itemCategoryArr[0]) !== -1 ? itemCategoryArr[0] : null : \"other\";\n      const itemSearch = item.itemTitle.toUpperCase().includes(this.props.searchFilter.toUpperCase()); //const randomImage = `https://i.picsum.photos/id/${Math.floor(Math.random() * 1000)}/200/300.jpg`\n\n      const hostImage = item.itemImgURL;\n      const stockImage = itemCategory ? eval(itemCategory + this.singleDigit(item.itemTitle.length)) : eval(\"other\" + this.singleDigit(item.itemTitle.length));\n      const itemImg = hostImage ? hostImage : stockImage;\n      const feedItem = /*#__PURE__*/React.createElement(FeedItem, {\n        key: item.itemID,\n        feed: item,\n        image: itemImg,\n        handleCount: this.handleCount,\n        isLoggedIn: this.props.isLoggedIn,\n        setUserData: this.props.setUserData,\n        userData: this.props.userData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 30\n        }\n      });\n\n      if (this.props.dayFilter === itemDate && !this.props.catFilter) {\n        if (!this.props.searchFilter) {\n          return feedItem;\n        } else if (itemSearch) {\n          return feedItem;\n        }\n      } else if (this.props.dayFilter === itemDate && this.props.catFilter === itemCategory) {\n        if (!this.props.searchFilter) {\n          return feedItem;\n        } else if (itemSearch) {\n          return feedItem;\n        }\n      } else if (!this.props.dayFilter || this.props.dayFilter === \"all\" && !this.props.catFilter) {\n        if (!this.props.searchFilter) {\n          return feedItem;\n        } else if (itemSearch) {\n          return feedItem;\n        }\n      } else if (!this.props.dayFilter || this.props.dayFilter === \"all\" && this.props.catFilter === itemCategory) {\n        if (!this.props.searchFilter) {\n          return feedItem;\n        } else if (itemSearch) {\n          return feedItem;\n        }\n      }\n\n      return null;\n    });\n    const filtered = feedItems.filter(function (el) {\n      return el != null;\n    });\n    const results = filtered.length;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"feed-panel\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, this.props.searchFilter ? /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"feed-panel-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 44\n      }\n    }, t(\"Search Results\")) : null, this.props.searchFilter ? /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"feed-panel-title-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 44\n      }\n    }, results, \" \", t(\"Results\")) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"feed-scroll-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"feed-item-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }, feedItems)));\n  }\n\n}\n\nexport default withTranslation()(FeedPanel);","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/FeedPanel.js"],"names":["React","Component","withTranslation","FeedItem","th","moment","fitness0","fitness1","fitness2","fitness3","fitness4","fitness5","fitness6","fitness7","fitness8","fitness9","fun0","fun1","fun2","fun3","fun4","fun5","fun6","fun7","fun8","fun9","kids0","kids1","kids2","kids3","kids4","kids5","kids6","kids7","kids8","kids9","lectures0","lectures1","lectures2","lectures3","lectures4","lectures5","lectures6","lectures7","lectures8","lectures9","other0","other1","other2","other3","other4","other5","other6","other7","other8","other9","FeedPanel","constructor","props","state","map","count","itemsFromLoad","itemsToLoad","singleDigit","bind","value","toString","split","Number","reduce","a","b","render","t","availableCats","feedItems","feed","item","console","log","itemStartDateObj","itemDate","itemStartDate","utc","local","format","slice","itemCategoryArr","eval","itemTags","itemCategory","indexOf","itemSearch","itemTitle","toUpperCase","includes","searchFilter","hostImage","itemImgURL","stockImage","length","itemImg","feedItem","itemID","handleCount","isLoggedIn","setUserData","userData","dayFilter","catFilter","filtered","filter","el","results"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\nimport { withTranslation } from 'react-i18next';\nimport FeedItem from \"./FeedItem\";\nimport './feed-panel.css';\nimport { th } from \"date-fns/locale\";\nimport moment from 'moment';\nimport 'moment-timezone';\n\nconst fitness0 = \"https://i.ibb.co/GPLBKBP/fitness0.jpg\" \nconst fitness1 = \"https://i.ibb.co/QYNpdxZ/fitness1.jpg\" \nconst fitness2 = \"https://i.ibb.co/Nyb1tNF/fitness2.jpg\" \nconst fitness3 = \"https://i.ibb.co/vHmPGg6/fitness3.jpg\" \nconst fitness4 = \"https://i.ibb.co/896W3FC/fitness4.jpg\" \nconst fitness5 = \"https://i.ibb.co/yB1w9f0/fitness5.jpg\" \nconst fitness6 = \"https://i.ibb.co/9cRPggR/fitness6.jpg\" \nconst fitness7 = \"https://i.ibb.co/VC0DFsL/fitness7.jpg\" \nconst fitness8 = \"https://i.ibb.co/Lz4ryKF/fitness8.jpg\" \nconst fitness9 = \"https://i.ibb.co/Gs6G6jp/fitness9.jpg\" \nconst fun0 = \"https://i.ibb.co/2MrrK0n/fun0.jpg\" \nconst fun1 = \"https://i.ibb.co/g49jHdz/fun1.jpg\" \nconst fun2 = \"https://i.ibb.co/8B0PK8p/fun2.jpg\" \nconst fun3 = \"https://i.ibb.co/PtTpdmV/fun3.jpg\" \nconst fun4 = \"https://i.ibb.co/BB9GTbr/fun4.jpg\" \nconst fun5 = \"https://i.ibb.co/x2m1QnR/fun5.jpg\" \nconst fun6 = \"https://i.ibb.co/z7Ft1y8/fun6.jpg\" \nconst fun7 = \"https://i.ibb.co/x2QNzM1/fun7.jpg\" \nconst fun8 = \"https://i.ibb.co/yYL4X63/fun8.jpg\" \nconst fun9 = \"https://i.ibb.co/S3BmQkq/fun9.jpg\" \nconst kids0 = \"https://i.ibb.co/4dYc16d/kids0.jpg\" \nconst kids1 = \"https://i.ibb.co/KbpzrtW/kids1.jpg\" \nconst kids2 = \"https://i.ibb.co/kXmbpmt/kids2.jpg\" \nconst kids3 = \"https://i.ibb.co/MSmdRKQ/kids3.jpg\" \nconst kids4 = \"https://i.ibb.co/xJqxhRC/kids4.jpg\" \nconst kids5 = \"https://i.ibb.co/cDRvzhH/kids5.jpg\" \nconst kids6 = \"https://i.ibb.co/CPxdm9H/kids6.jpg\" \nconst kids7 = \"https://i.ibb.co/25nzPfy/kids7.jpg\" \nconst kids8 = \"https://i.ibb.co/sKH3SLT/kids8.jpg\" \nconst kids9 = \"https://i.ibb.co/SXmRmP9/kids9.jpg\" \nconst lectures0 = \"https://i.ibb.co/7kSm3yv/lectures0.jpg\" \nconst lectures1 = \"https://i.ibb.co/tz44h9F/lectures1.jpg\" \nconst lectures2 = \"https://i.ibb.co/N3bqjb7/lectures2.jpg\" \nconst lectures3 = \"https://i.ibb.co/qN0yjvM/lectures3.jpg\" \nconst lectures4 = \"https://i.ibb.co/nRtPWNg/lectures4.jpg\" \nconst lectures5 = \"https://i.ibb.co/SKS7Wy6/lectures5.jpg\" \nconst lectures6 = \"https://i.ibb.co/kqHCBJr/lectures6.jpg\" \nconst lectures7 = \"https://i.ibb.co/jJ913L6/lectures7.jpg\" \nconst lectures8 = \"https://i.ibb.co/mBcMjGb/lectures8.jpg\" \nconst lectures9 = \"https://i.ibb.co/8bhVQr7/lectures9.jpg\" \nconst other0 = \"https://i.ibb.co/wyFyDbB/random0.jpg\" \nconst other1 = \"https://i.ibb.co/M7H8xGM/random1.jpg\" \nconst other2 = \"https://i.ibb.co/sjMxzJ4/random2.jpg\" \nconst other3 = \"https://i.ibb.co/Jyd2syT/random3.jpg\" \nconst other4 = \"https://i.ibb.co/pJ46JKC/random4.jpg\" \nconst other5 = \"https://i.ibb.co/Mh1kC9r/random5.jpg\" \nconst other6 = \"https://i.ibb.co/NyzgHjB/random6.jpg\" \nconst other7 = \"https://i.ibb.co/2hdkWQR/random7.jpg\" \nconst other8 = \"https://i.ibb.co/KN1YqcJ/random8.jpg\" \nconst other9 = \"https://i.ibb.co/cYXtgmX/random9.jpg\" \n\nclass FeedPanel extends Component{\n    constructor(props){\n        super(props)\n        this.state = {\n            map: null,\n            count: \"0 Results\",\n            itemsFromLoad: 0,\n            itemsToLoad: 100\n        }\n        this.singleDigit = this.singleDigit.bind(this)\n    }\n    \n    singleDigit(value){\n        while (value > 9) {\n          value\n            .toString()\n            .split('')\n            .map(Number)\n            .reduce(function (a, b) {return value = a + b})\n        } return value\n      }\n\n    render(){\n\n        const { t } = this.props\n        \n        const availableCats = [\"kids\",\"lectures\",\"fitness\",\"fun\"]\n\n\n        // const feedItems2 = this.props.feed && this.props.feed.map(item => {\n        //     const hostImage = item.itemImgURL\n        //     return( <FeedItem \n        //             key={item.itemID} \n        //             feed={item} \n        //             image={hostImage} \n        //             handleCount={this.handleCount} \n        //             isLoggedIn={true}\n        //             setUserData={\"none\"}\n        //             userData={\"none\"}\n        //             />\n        //     )\n        // })\n        //2020-09-14T01:00:00 \n        //Feed item (Category / Date / Search) filtering\n        const feedItems = this.props.feed && this.props.feed.map(item => {\n            console.log(\"time from DB:\",item.itemStartDateObj)\n            itemDate && console.log(\"time converted to UTC:\",itemStartDate)\n            itemDate && console.log(\"item Date:\", itemDate)\n\n            const itemStartDate = moment.utc(item.itemStartDateObj).local().format('YYYY-MM-DDTHH:mm:ss')\n            const itemDate = itemStartDate && itemStartDate.slice(0,10)\n            const itemCategoryArr = eval(item.itemTags)\n            const itemCategory = itemCategoryArr ? (availableCats.indexOf(itemCategoryArr[0]) !== -1 ? itemCategoryArr[0] : null) : \"other\"\n\n            const itemSearch = item.itemTitle.toUpperCase().includes(this.props.searchFilter.toUpperCase())\n            //const randomImage = `https://i.picsum.photos/id/${Math.floor(Math.random() * 1000)}/200/300.jpg`\n            const hostImage = item.itemImgURL\n            const stockImage = itemCategory ? eval(itemCategory+this.singleDigit(item.itemTitle.length)) : eval(\"other\"+this.singleDigit(item.itemTitle.length))\n            const itemImg = hostImage ? hostImage : stockImage\n            const feedItem = <FeedItem \n                                key={item.itemID} \n                                feed={item} \n                                image={itemImg} \n                                handleCount={this.handleCount} \n                                isLoggedIn={this.props.isLoggedIn}\n                                setUserData={this.props.setUserData}\n                                userData={this.props.userData}\n                             />\n            if (this.props.dayFilter === itemDate && !this.props.catFilter) {\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            } else if(this.props.dayFilter === itemDate && this.props.catFilter === itemCategory) {\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            }  else if(!this.props.dayFilter || this.props.dayFilter === \"all\" && !this.props.catFilter){\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            }  else if(!this.props.dayFilter || this.props.dayFilter === \"all\" && this.props.catFilter === itemCategory){\n                if (!this.props.searchFilter) {\n                    return feedItem\n                } else if (itemSearch){\n                    return feedItem\n                }\n            } return null\n\n        })\n        \n\n        const filtered = feedItems.filter(function (el) {\n        return el != null;\n        });\n\n        const results = filtered.length\n\n        return(\n            <div className=\"feed-panel\">\n                {this.props.searchFilter ? <h2 className=\"feed-panel-title\">{t(\"Search Results\")}</h2> : null}\n                {this.props.searchFilter ? <h3 className=\"feed-panel-title-items\">{results} {t(\"Results\")}</h3> : null}\n                <div className=\"feed-scroll-container\">\n                    <div className=\"feed-item-container\">\n                        {feedItems}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withTranslation()(FeedPanel)"]},"metadata":{},"sourceType":"module"}