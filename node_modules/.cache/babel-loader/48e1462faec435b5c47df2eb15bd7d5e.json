{"ast":null,"code":"var _jsxFileName = \"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/App.js\";\nimport React, { useState, useEffect, useRef, createRef } from 'react';\nimport moment from \"moment\";\nimport { useTranslation } from 'react-i18next';\nimport './app.css';\nimport Header from \"./Header\";\nimport DaysPanel from \"./DaysPanel\";\nimport CategoryPanel from \"./CategoryPanel\";\nimport FeedPanel from './FeedPanel';\nimport AddFeedItem from './add-feed-item';\nimport SocialLoginDialog from './Social-login-dialog';\nimport Drawer from '@material-ui/core/Drawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport Logo from './Logo';\nimport { getSocialUser, setSocialUser } from '../Services/localStorageService';\nimport Loading from \"./Loading\";\nimport LangSelector from \"./LangSelector\";\nimport clsx from 'clsx';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MailIcon from '@material-ui/icons/Mail';\nimport ReactGA from 'react-ga'; //import db from \"./db.json\"\n\nfunction App() {\n  let myRef; //window.baseUrl=\"https://localhost:44339/api/\";\n\n  window.baseUrl = \"http://stream-hub.net/api/\";\n  const [isAddFeedOpen, setAddFeedOpen] = React.useState(false);\n  const [isLoginDialogOpen, setLoginDialogOpen] = React.useState(false);\n  const [feedItems, setFeedItems] = React.useState(null);\n  const [filteredFeedItems, setFilteredFeedItems] = React.useState(null);\n  const [categories, setCategories] = React.useState(null);\n  const [autoComleteFeed, setAutoComleteFeed] = React.useState([]);\n  const [isFetchedData, setIsFetchedData] = React.useState(false);\n  ReactGA.initialize('UA-162926417-1');\n  ReactGA.pageview(\"/app\"); //  const [isFeedDialogOpen, handleFeedDialogChange] = useState(false);\n  //DayPanel Filtering Function:\n\n  const [daySelected, setDaySelected] = useState(moment().format('YYYY-MM-DD'));\n  const [catSelected, setCatSelected] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [langSelected, setLangSelected] = useState(\"en\");\n  const {\n    t,\n    i18n\n  } = useTranslation();\n\n  const changeLanguage = lang => {\n    i18n.changeLanguage(lang);\n  };\n\n  const childSocialLoginRef = createRef();\n  console.log(childSocialLoginRef.current);\n  console.log(\"hello world\");\n\n  const fetchItems = async () => {\n    const apiCall = await fetch(`${window.baseUrl}items/`);\n    const items = await apiCall.json(); //const items = db\n\n    console.log('items', items);\n    top100Films.push({\n      title: 'The Shawshank Redemption',\n      year: 1994\n    });\n    setAutoComleteFeed(items);\n    setFeedItems(items);\n    setFilteredFeedItems(items);\n    setIsLoading(false);\n  };\n\n  const fetchCategories = async () => {\n    const apiCall = await fetch(`${window.baseUrl}categories/`);\n\n    const _categories = await apiCall.json();\n\n    setCategories(_categories);\n  };\n\n  useEffect(() => {\n    if (!isFetchedData) {\n      setIsFetchedData(true);\n      fetchItems();\n      fetchCategories();\n    } // Update the document title using the browser API\n    //document.title = `You clicked ${count} times`;\n\n  });\n\n  const openLoginDialog = () => {\n    console.log('openLoginDialog');\n    setLoginDialogOpen(true);\n  };\n\n  const handleLoginDialogClose = () => {\n    setLoginDialogOpen(false);\n    setAddFeedOpen(false);\n  };\n\n  const toggleDrawer = (anchor, open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    } //setAddFeedOpen(false);\n    //setLoginDialogOpen(false);\n\n  };\n\n  const doLogout = () => {};\n\n  let top100Films = [];\n  let defaultProps = {\n    options: autoComleteFeed,\n    getOptionLabel: option => option.itemTitle\n  };\n\n  const handleLogoClick = () => {\n    window.location.reload();\n  }; //console.log('categories',categories);\n\n\n  if (isLoading) return /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 26\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require('./StreamHub_Logo.png'),\n    alt: \"StreamHub\",\n    style: {\n      width: 240,\n      cursor: \"pointer\"\n    },\n    onClick: handleLogoClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(LangSelector, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: 300\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, true &&\n  /*#__PURE__*/\n\n  /*autoComleteFeed.length>0*/\n  React.createElement(Autocomplete, Object.assign({\n    className: \"app-autocomple\",\n    style: {\n      width: 300,\n      height: 60\n    }\n  }, defaultProps, {\n    id: \"auto-complete\",\n    autoComplete: true,\n    includeInputInList: true,\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      label: \"search\",\n      margin: \"normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 36\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 50\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: \"auto\",\n      marginRight: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: 30\n    },\n    variant: \"contained\",\n    onClick: () => {\n      console.log('setAddFeedOpen');\n      setAddFeedOpen(true);\n    },\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, t(\"Add Event\"))), true\n  /*!getSocialUser()*/\n  &&\n  /*#__PURE__*/\n  React.createElement(\"div\", {\n    style: {\n      marginRight: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: 30,\n      marginLeft: \"auto\"\n    },\n    variant: \"contained\",\n    onClick: () => {\n      console.log('setAddFeedOpen');\n      setLoginDialogOpen(true);\n    },\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, t(\"Login\"))), false\n  /*getSocialUser()*/\n  &&\n  /*#__PURE__*/\n  React.createElement(\"div\", {\n    style: {\n      marginRight: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: 30,\n      marginLeft: \"auto\"\n    },\n    variant: \"outlined\",\n    onClick: () => {\n      console.log('setAddFeedOpen');\n      childSocialLoginRef.current.doLogout();\n    },\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, \"Logout\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-video-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-feed-item-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AddFeedItem, {\n    openLoginDialog: openLoginDialog,\n    openAddFeedDialog: isAddFeedOpen,\n    handleAddFeedClose: () => setAddFeedOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(SocialLoginDialog, {\n    open: isLoginDialogOpen,\n    onClose: handleLoginDialogClose,\n    ref: childSocialLoginRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-categories-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CategoryPanel, {\n    categories: categories,\n    cat: setCatSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-days-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DaysPanel, {\n    dayChange: setDaySelected,\n    day: setDaySelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-feed-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FeedPanel, {\n    feeds: feedItems,\n    dayFilter: daySelected,\n    catFilter: catSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/App.js"],"names":["React","useState","useEffect","useRef","createRef","moment","useTranslation","Header","DaysPanel","CategoryPanel","FeedPanel","AddFeedItem","SocialLoginDialog","Drawer","makeStyles","Button","TextField","Autocomplete","Logo","getSocialUser","setSocialUser","Loading","LangSelector","clsx","List","Divider","ListItem","ListItemIcon","ListItemText","InboxIcon","MailIcon","ReactGA","App","myRef","window","baseUrl","isAddFeedOpen","setAddFeedOpen","isLoginDialogOpen","setLoginDialogOpen","feedItems","setFeedItems","filteredFeedItems","setFilteredFeedItems","categories","setCategories","autoComleteFeed","setAutoComleteFeed","isFetchedData","setIsFetchedData","initialize","pageview","daySelected","setDaySelected","format","catSelected","setCatSelected","isLoading","setIsLoading","langSelected","setLangSelected","t","i18n","changeLanguage","lang","childSocialLoginRef","console","log","current","fetchItems","apiCall","fetch","items","json","top100Films","push","title","year","fetchCategories","_categories","openLoginDialog","handleLoginDialogClose","toggleDrawer","anchor","open","event","type","key","doLogout","defaultProps","options","getOptionLabel","option","itemTitle","handleLogoClick","location","reload","marginLeft","require","width","cursor","height","params","marginRight","marginTop"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect,useRef,createRef } from 'react';\nimport moment from \"moment\"\nimport { useTranslation } from 'react-i18next';\nimport './app.css';\nimport Header from \"./Header\"\nimport DaysPanel from \"./DaysPanel\"\nimport CategoryPanel from \"./CategoryPanel\"\nimport FeedPanel from './FeedPanel';\nimport AddFeedItem from './add-feed-item';\nimport SocialLoginDialog from './Social-login-dialog';\nimport Drawer from '@material-ui/core/Drawer';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport  Logo from './Logo';\nimport {getSocialUser,setSocialUser} from '../Services/localStorageService'\nimport Loading from \"./Loading\"\nimport LangSelector from \"./LangSelector\"\n\nimport clsx from 'clsx';\n\n\n\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MailIcon from '@material-ui/icons/Mail';\nimport ReactGA from 'react-ga';\n//import db from \"./db.json\"\n\nfunction App() {\n  \n  let myRef;\n \n  //window.baseUrl=\"https://localhost:44339/api/\";\n  window.baseUrl=\"http://stream-hub.net/api/\";\n  const [isAddFeedOpen, setAddFeedOpen] = React.useState(false);\n  const [isLoginDialogOpen, setLoginDialogOpen] = React.useState(false);\n  const [feedItems, setFeedItems] = React.useState(null);\n  const [filteredFeedItems, setFilteredFeedItems] = React.useState(null);\n  const [categories, setCategories] = React.useState(null);\n  const [autoComleteFeed,setAutoComleteFeed]= React.useState([]);\n  const [isFetchedData,setIsFetchedData]= React.useState(false);\n  ReactGA.initialize('UA-162926417-1');\n  ReactGA.pageview(\"/app\");\n  //  const [isFeedDialogOpen, handleFeedDialogChange] = useState(false);\n  //DayPanel Filtering Function:\n  const [daySelected, setDaySelected] = useState(moment().format('YYYY-MM-DD'))\n  const [catSelected, setCatSelected] = useState(null)\n  const [isLoading, setIsLoading] = useState(true)\n  const [langSelected, setLangSelected] = useState(\"en\");\n  \n  const { t, i18n } = useTranslation()\n\n  const changeLanguage = lang => {\n    i18n.changeLanguage(lang)\n  }\n\n\n  const childSocialLoginRef = createRef();\n\n  console.log(childSocialLoginRef.current);\n  console.log(\"hello world\");\n  const fetchItems=async ()=>\n  {\n    \n    const apiCall =await fetch(`${window.baseUrl}items/`);\n    const items=await apiCall.json();\n    //const items = db\n    console.log('items',items);\n     top100Films.push({ title: 'The Shawshank Redemption', year: 1994 });\n     setAutoComleteFeed(items);\n    setFeedItems(items);\n    setFilteredFeedItems(items)\n    setIsLoading(false)\n  }\n  \n const fetchCategories=async ()=>\n {\n    const apiCall =await fetch(`${window.baseUrl}categories/`);\n    const _categories=await apiCall.json();\n    \n    setCategories(_categories);\n  }\n\n  useEffect(() => {\n\n    if (!isFetchedData)\n    {\n      setIsFetchedData(true);\n      fetchItems();\n      fetchCategories();\n    }\n      // Update the document title using the browser API\n      //document.title = `You clicked ${count} times`;\n  });\n  \n  const  openLoginDialog=()=>{\n    console.log('openLoginDialog');\n    setLoginDialogOpen(true);\n\n  }\n \n  const handleLoginDialogClose=()=>\n  {\n    setLoginDialogOpen(false);\n    setAddFeedOpen(false);\n  }\n  const toggleDrawer = (anchor, open) => (event) => {\n    \n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return;\n    }\n    //setAddFeedOpen(false);\n    //setLoginDialogOpen(false);\n    \n\n  }\n  const doLogout=()=>\n  {\n\n  }\n  let top100Films=[];\n  let  defaultProps = {\n    options: autoComleteFeed,\n    getOptionLabel: (option) => option.itemTitle,\n  };\n  const handleLogoClick = () => {\n    window.location.reload()\n   }\n  //console.log('categories',categories);\n\n  if (isLoading) return (<Loading />)\n  return (\n\n    <div className=\"app\">\n      \n      <div className=\"app-header-container\">\n        <div style={{marginLeft:30}}>\n          <img src={require('./StreamHub_Logo.png')} alt=\"StreamHub\" style={{width:240, cursor: \"pointer\"}} onClick={handleLogoClick}/>\n          <LangSelector />\n        </div>\n        <div  style={{marginLeft:300}}>\n          { true && /*autoComleteFeed.length>0*/ <Autocomplete className=\"app-autocomple\" style={{width:300,height:60}}\n          {...defaultProps}\n          id=\"auto-complete\"\n          autoComplete\n          includeInputInList\n          renderInput={(params) => <TextField {...params} label=\"search\" margin=\"normal\" />}\n          />}\n          {/*<input \n          name=\"searchInput\"\n          type=\"text\"\n          placeholder=\"Search...\"\n          className=\"header-search\"/>*/}\n        </div>\n        <div style={{marginLeft:\"auto\",marginRight:30}}>\n          <Button style={{marginTop:30}} variant=\"contained\" onClick={()=>{console.log('setAddFeedOpen');setAddFeedOpen(true)}} type=\"button\">{t(\"Add Event\")}</Button>\n        </div>\n        {true /*!getSocialUser()*/ &&\n        <div  style={{marginRight:30}}>\n        <Button style={{marginTop:30,marginLeft:\"auto\"}} variant=\"contained\" onClick={()=>{console.log('setAddFeedOpen');setLoginDialogOpen(true)}} type=\"button\">{t(\"Login\")}</Button>\n        </div>\n        }\n        { false/*getSocialUser()*/ &&\n        <div  style={{marginRight:30}}>\n        <Button style={{marginTop:30,marginLeft:\"auto\"}} variant=\"outlined\" onClick={()=>{console.log('setAddFeedOpen');  childSocialLoginRef.current.doLogout()}} type=\"button\">Logout</Button>\n        </div>\n        }\n        <div className=\"add-video-container\">\n        </div>\n        <div className=\"add-feed-item-container\">\n          {/*<Drawer ref={myRef} anchor={'right'} open={isAddFeedOpen} onClose={toggleDrawer( false)}>*/}\n          <AddFeedItem openLoginDialog={openLoginDialog} openAddFeedDialog={isAddFeedOpen}  handleAddFeedClose={()=>setAddFeedOpen(false)}></AddFeedItem>\n        </div>\n        <SocialLoginDialog  open={isLoginDialogOpen} onClose={handleLoginDialogClose}  ref={childSocialLoginRef}/>\n      </div>\n      <div className=\"app-categories-container\">\n        <CategoryPanel categories={categories} cat={setCatSelected}/>\n      </div>\n      <div className=\"app-days-container\">\n        <DaysPanel dayChange={setDaySelected} day={setDaySelected}/>\n      </div>\n      <div className=\"app-feed-container\">\n        <FeedPanel  feeds={feedItems} dayFilter={daySelected} catFilter={catSelected}/>\n      </div>\n    </div>\n\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}