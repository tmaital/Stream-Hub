{"ast":null,"code":"var _jsxFileName = \"/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/AddEventModal.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./add-event-modal.css\";\nimport { useTranslation } from 'react-i18next'; //import { loadReCaptcha } from 'react-recaptcha-v3'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFileUpload, faPlus, faTimes, faCheck, faImage } from \"@fortawesome/free-solid-svg-icons\";\nimport moment from \"moment\";\n\nfunction AddEventModal(props) {\n  const [state, setState] = useState({\n    itemTitle: \"\",\n    itemDuration: \"\",\n    itemStartDateObj: \"\",\n    itemURL: \"\",\n    itemImgURL: \"\",\n    itemTags: \"[]\",\n    platformID: 1,\n    itemOwner: \"\"\n  });\n  const [date, setDate] = useState({\n    date: \"\",\n    startTime: \"\",\n    endTime: \"\"\n  });\n  const [isError, setIsError] = useState(false);\n  const [isErrorHighlight, setIsErrorHighlight] = useState(false);\n  const [isImageLoad, setIsImageLoad] = useState(false);\n  const [isImageDisplay, setIsImageDisplay] = useState(false);\n  const [isImageError, setIsImageError] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  useEffect(() => {\n    setState(prevState => ({ ...prevState,\n      itemOwner: props.userData.userId\n    }));\n  }, []);\n  const {\n    t\n  } = useTranslation();\n\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setState(prevState => ({ ...prevState,\n      [name]: value,\n      itemOwner: props.userData.userId\n    }));\n  };\n\n  const handleDateChange = event => {\n    const {\n      name,\n      value,\n      type\n    } = event.target;\n\n    if (type === \"text\" && date[name].length === 2 && value.indexOf(\":\") === -1) {\n      setDate(prevState => ({ ...prevState,\n        [name]: `${value.slice(0, 2)}:${value.slice(2, 4)}`\n      }));\n    } else {\n      //if(type === \"text\" && date[name].length === 2){\n      setDate(prevState => ({ ...prevState,\n        [name]: value\n      }));\n    }\n\n    const duration = moment.duration(moment(date.endTime, \"HH:mm\").diff(moment(date.startTime, \"HH:mm\"))).asSeconds();\n    const datetimeFormatted = `${date.date.concat(\"T\", date.startTime)}`;\n    setState(prevState => ({ ...prevState,\n      itemDuration: duration,\n      itemStartDateObj: datetimeFormatted\n    }));\n    console.log(\"date:\", date);\n    console.log(\"duration:\", duration);\n  };\n\n  const handleDateClear = event => {\n    const {\n      name\n    } = event.target;\n\n    if (event.key === \"Backspace\") {\n      setDate(prevState => ({ ...prevState,\n        [name]: \"\"\n      }));\n    }\n  };\n\n  const handleCategoryChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    const categoryFormatted = `['${value.toLowerCase()}']`;\n    setState(prevState => ({ ...prevState,\n      [name]: categoryFormatted\n    }));\n  };\n\n  const handleShowImageUpload = () => {\n    setIsImageLoad(true);\n  };\n\n  const imageVerification = (src, good, bad) => {\n    const img = new Image();\n    img.onload = good;\n    img.onerror = bad;\n    img.src = src;\n  };\n\n  const handleImageUpload = event => {\n    const {\n      value,\n      name,\n      type\n    } = event.target;\n\n    if (type === \"text\") {\n      setState(prevState => ({ ...prevState,\n        itemImgURL: value\n      }));\n    } else if (name === \"upload\") {\n      imageVerification(state.itemImgURL, () => {\n        setIsImageLoad(false);\n        setIsImageDisplay(true);\n      }, () => {\n        setIsImageError(true);\n        setTimeout(function () {\n          setIsImageError(false);\n        }, 2500);\n      });\n    } else if (name === \"cancel\") {\n      setIsImageLoad(false);\n      setIsImageDisplay(false);\n      setState(prevState => ({ ...prevState,\n        itemImgURL: \"\"\n      }));\n    } else if (name === \"remove\") {\n      setIsImageDisplay(false);\n      setState(prevState => ({ ...prevState,\n        itemImgURL: \"\"\n      }));\n    }\n  };\n\n  const handleClose = event => {\n    if (event.target === event.currentTarget) props.handleHideAddEvent();\n  };\n\n  const handleSubmit = event => {\n    console.log(\"item owner:\", state.itemOwner);\n    event.preventDefault();\n\n    if (state.itemTitle && state.itemDuration && state.itemStartDateObj && state.itemURL && state.itemTags != \"[]\") {\n      console.log(\"All Items Complete! Submitting...\");\n      var myHeaders = new Headers();\n      myHeaders.append(\"Content-Type\", \"application/json\");\n      var raw = JSON.stringify(state);\n      var requestOptions = {\n        method: 'POST',\n        headers: myHeaders,\n        body: raw,\n        redirect: 'follow'\n      };\n      fetch(`${window.baseUrl}items/`, requestOptions).then(response => response.text()).then(result => console.log(result)).catch(error => console.log('error', error)).then(setIsSubmitted(true)).then(setTimeout(() => {\n        setIsSubmitted(false);\n        props.handleHideAddEvent();\n      }, 2000));\n    } else {\n      setIsError(true);\n      setIsErrorHighlight(true);\n      setTimeout(function () {\n        setIsErrorHighlight(false);\n      }, 500);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-container\",\n    name: \"mainmodal\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-container-window-parent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, !isSubmitted ? /*#__PURE__*/React.createElement(\"form\", {\n    className: \"modal-container-window\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-close-button\",\n    onClick: props.handleHideAddEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faTimes,\n    size: \"1x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: t(\"lang\") === \"he\" ? \"modal-form-img-button-rtl\" : \"modal-form-img-button\",\n    type: \"button\",\n    onClick: handleShowImageUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }, t(\"Choose Photo\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 189\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 194\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: \"modal-form-img-button-icon\",\n    icon: faImage,\n    size: \"2x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 29\n    }\n  })), isImageLoad ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-img-popup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 44\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-img-input-cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-img-input-cont-inner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"www.photo-url.com/image.jpg\",\n    onChange: handleImageUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    name: \"upload\",\n    className: \"modal-form-img-input-cont-button-upload\",\n    onClick: handleImageUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 41\n    }\n  }, t(\"Choose\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    name: \"cancel\",\n    className: \"modal-form-img-input-cont-button-cancel\",\n    onClick: handleImageUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 41\n    }\n  }, t(\"Cancel\"))), isImageError ? /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      color: \"red\",\n      fontWeight: \"200\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 53\n    }\n  }, t(\"Invalid URL. Please enter a valid image url and retry.\")) : null)) : null), isImageDisplay ? /*#__PURE__*/React.createElement(\"img\", {\n    className: t(\"lang\") === \"he\" ? \"temp-img-rtl\" : \"temp-img\",\n    alt: \"\",\n    src: state.itemImgURL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 43\n    }\n  }) : null, isImageDisplay ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    name: \"remove\",\n    className: \"modal-form-img-button-remove\",\n    onClick: handleImageUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 43\n    }\n  }, t(\"Remove\")) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 37\n    }\n  }, \"* \"), t(\"Tell us about your event\")), /*#__PURE__*/React.createElement(\"textarea\", {\n    placeholder: t(\"Short description of your event...\"),\n    maxLength: \"90\",\n    name: \"itemTitle\",\n    value: state.itemTitle,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    style: t(\"lang\") === \"he\" ? {\n      right: 378\n    } : {\n      left: 378\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }, state.itemTitle.length, \"/90\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 37\n    }\n  }, \"* \"), t(\"When is it?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-datetime\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 37\n    }\n  }, t(\"Event Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    name: \"date\",\n    onKeyDown: handleDateClear,\n    onChange: handleDateChange,\n    value: date.date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 58\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 37\n    }\n  }, t(\"Start Time\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    maxLength: \"5\",\n    pattern: \"[0-9].{1,}:[0-9].{1,}\",\n    title: \"12:34\",\n    name: \"startTime\",\n    placeHolder: \"12:30\",\n    className: \"modal-form-datetime-time\",\n    onKeyDown: handleDateClear,\n    onChange: handleDateChange,\n    onBlur: handleDateChange,\n    value: date.startTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 58\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 37\n    }\n  }, t(\"End Time\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    maxLength: \"5\",\n    pattern: \"[0-9].{1,}:[0-9].{1,}\",\n    title: \"12:34\",\n    name: \"endTime\",\n    placeHolder: \"13:45\",\n    className: \"modal-form-datetime-time\",\n    onKeyDown: handleDateClear,\n    onChange: handleDateChange,\n    onBlur: handleDateChange,\n    value: date.endTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 52\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 37\n    }\n  }, \"* \"), t(\"Enter your event's URL\")), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"itemURL\",\n    type: \"text\",\n    placeholder: \"www.amazing-event.com/live-video-url\",\n    onChange: handleChange,\n    value: state.itemURL,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 37\n    }\n  }, \"* \"), t(\"Choose Category\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-categories-radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"modal-form-categories-radio-design\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 37\n    }\n  }, t(\"Kids\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"itemTags\",\n    value: \"kids\",\n    onChange: handleCategoryChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"radio-checkmark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"modal-form-categories-radio-design\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 37\n    }\n  }, t(\"Lectures\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"itemTags\",\n    value: \"lectures\",\n    onChange: handleCategoryChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"radio-checkmark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"modal-form-categories-radio-design\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 37\n    }\n  }, t(\"Fitness\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"itemTags\",\n    value: \"fitness\",\n    onChange: handleCategoryChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"radio-checkmark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"modal-form-categories-radio-design\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 37\n    }\n  }, t(\"Fun\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    name: \"itemTags\",\n    value: \"fun\",\n    onChange: handleCategoryChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"radio-checkmark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 41\n    }\n  })))))), isError ? /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      color: \"red\",\n      fontWeight: isErrorHighlight ? \"900\" : \"200\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 32\n    }\n  }, t(\"You must complete the form before submitting!\")) : null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modal-submit-button\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    className: t(\"lang\") === \"he\" ? \"modal-submit-button-icon-rtl\" : \"modal-submit-button-icon\",\n    icon: faPlus,\n    size: \"1x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 25\n    }\n  }), t(\"Add Event\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-container-window\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-form-container-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 29\n    }\n  }, \"Event Added successfully!\"), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faCheck,\n    size: \"2x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 29\n    }\n  }))))));\n}\n\nexport default AddEventModal;","map":{"version":3,"sources":["/home/main/Documents/tvguide/livey-master/StreamHubCore2/StreamHubCore2/ClientApp/src/components/AddEventModal.js"],"names":["React","useState","useEffect","useTranslation","FontAwesomeIcon","faFileUpload","faPlus","faTimes","faCheck","faImage","moment","AddEventModal","props","state","setState","itemTitle","itemDuration","itemStartDateObj","itemURL","itemImgURL","itemTags","platformID","itemOwner","date","setDate","startTime","endTime","isError","setIsError","isErrorHighlight","setIsErrorHighlight","isImageLoad","setIsImageLoad","isImageDisplay","setIsImageDisplay","isImageError","setIsImageError","isSubmitted","setIsSubmitted","prevState","userData","userId","t","handleChange","event","name","value","target","handleDateChange","type","length","indexOf","slice","duration","diff","asSeconds","datetimeFormatted","concat","console","log","handleDateClear","key","handleCategoryChange","categoryFormatted","toLowerCase","handleShowImageUpload","imageVerification","src","good","bad","img","Image","onload","onerror","handleImageUpload","setTimeout","handleClose","currentTarget","handleHideAddEvent","handleSubmit","preventDefault","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","window","baseUrl","then","response","text","result","catch","error","color","fontWeight","right","left"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport \"./add-event-modal.css\"\nimport { useTranslation } from 'react-i18next'\n//import { loadReCaptcha } from 'react-recaptcha-v3'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faFileUpload, faPlus, faTimes, faCheck, faImage } from \"@fortawesome/free-solid-svg-icons\";\nimport moment from \"moment\"\n\nfunction AddEventModal(props){\n    \n    const [state, setState] = useState({\n        itemTitle:\"\",\n        itemDuration:\"\",\n        itemStartDateObj:\"\",\n        itemURL:\"\",\n        itemImgURL:\"\",\n        itemTags:\"[]\",\n        platformID:1,\n        itemOwner:\"\",\n    })\n    const [date, setDate] = useState({\n        date:\"\",\n        startTime:\"\",\n        endTime:\"\",\n    })\n    const [isError, setIsError] = useState(false)\n    const [isErrorHighlight, setIsErrorHighlight] = useState(false)\n    const [isImageLoad, setIsImageLoad] = useState(false)\n    const [isImageDisplay, setIsImageDisplay] = useState(false)\n    const [isImageError, setIsImageError] = useState(false)\n    const [isSubmitted, setIsSubmitted] = useState(false)\n\n    useEffect(() => {\n        setState(prevState => ({ ...prevState, itemOwner: props.userData.userId }))\n    },[])\n\n    const { t } = useTranslation()\n\n    const handleChange = (event) => {\n        const {name, value} = event.target\n        setState(prevState => ({ ...prevState, [name]: value, itemOwner: props.userData.userId}))\n    }\n\n    const handleDateChange = (event) => {\n        const {name, value, type} = event.target\n\n        if(type === \"text\" && date[name].length === 2 && value.indexOf(\":\") === -1){\n            setDate(prevState => ({ ...prevState, [name]: `${value.slice(0, 2)}:${value.slice(2, 4)}` }))\n        } else { //if(type === \"text\" && date[name].length === 2){\n            setDate(prevState => ({ ...prevState, [name]: value }))\n        }\n        \n        const duration = moment.duration(moment(date.endTime,\"HH:mm\").diff(moment(date.startTime,\"HH:mm\"))).asSeconds()\n        const datetimeFormatted = `${date.date.concat(\"T\",date.startTime)}`\n        setState(prevState => ({ ...prevState, itemDuration: duration, itemStartDateObj: datetimeFormatted }))\n        console.log(\"date:\",date)\n        console.log(\"duration:\",duration)      \n    }\n\n    const handleDateClear = (event) => {\n        const {name} = event.target\n        if(event.key === \"Backspace\"){\n            setDate(prevState => ({ ...prevState, [name]: \"\" }))\n        }\n    }\n\n    const handleCategoryChange = (event) => {\n        const {name, value} = event.target\n        const categoryFormatted = `['${value.toLowerCase()}']`\n        setState(prevState => ({ ...prevState, [name]: categoryFormatted }))\n    }\n\n    const handleShowImageUpload = () => {\n        setIsImageLoad(true)\n    }\n\n    const imageVerification = (src, good, bad) => {\n        const img = new Image();\n        img.onload = good; \n        img.onerror = bad;\n        img.src = src;        \n    }\n\n    const handleImageUpload = (event) => {\n        const {value, name, type} = event.target\n        if(type === \"text\") {\n            setState(prevState => ({ ...prevState, itemImgURL: value }))\n        } else if(name === \"upload\") {\n            imageVerification( \n                state.itemImgURL, \n                () => {\n                    setIsImageLoad(false)\n                    setIsImageDisplay(true)}, \n                () => {\n                    setIsImageError(true)\n                    setTimeout(function(){ setIsImageError(false) }, 2500)} \n            )\n        } else if(name === \"cancel\") {\n            setIsImageLoad(false)\n            setIsImageDisplay(false)\n            setState(prevState => ({ ...prevState, itemImgURL: \"\" }))\n        } else if(name === \"remove\") {\n            setIsImageDisplay(false)\n            setState(prevState => ({ ...prevState, itemImgURL: \"\" }))\n        }\n    }\n\n\n    const handleClose = (event) => {\n        if(event.target === event.currentTarget) \n        props.handleHideAddEvent()\n    }\n\n    const handleSubmit = (event) => {\n        console.log(\"item owner:\",state.itemOwner)\n        event.preventDefault()\n        if(state.itemTitle && \n           state.itemDuration && \n           state.itemStartDateObj && \n           state.itemURL && \n           state.itemTags != \"[]\"){\n               \n            console.log(\"All Items Complete! Submitting...\")\n            var myHeaders = new Headers();\n            myHeaders.append(\"Content-Type\", \"application/json\")\n\n            var raw = JSON.stringify(state)\n\n            var requestOptions = {\n            method: 'POST',\n            headers: myHeaders,\n            body: raw,\n            redirect: 'follow'\n            }\n        \n            fetch(`${window.baseUrl}items/`, requestOptions)\n            .then(response => response.text())\n            .then(result => console.log(result))\n            .catch(error => console.log('error', error))\n            .then(setIsSubmitted(true))\n            .then(\n                setTimeout(() => {\n                    setIsSubmitted(false)\n                    props.handleHideAddEvent()\n                    }, 2000))\n        } else {\n            setIsError(true)\n            setIsErrorHighlight(true)\n            setTimeout(function(){ setIsErrorHighlight(false) }, 500);\n        }\n    }\n    \n    return(\n        <div className=\"modal-container\" name=\"mainmodal\" onClick={handleClose}>\n            <div className=\"modal-container-window-parent\">\n{!isSubmitted ? <form className=\"modal-container-window\">\n                    <div className=\"modal-close-button\" onClick={props.handleHideAddEvent}>\n                        <FontAwesomeIcon icon={faTimes} size=\"1x\"/>\n                    </div>\n                     <div className=\"modal-form-container\">\n                        <div className=\"modal-form-img\">\n                            <button className={t(\"lang\") === \"he\" ? \"modal-form-img-button-rtl\" : \"modal-form-img-button\"} type=\"button\" onClick={handleShowImageUpload}>{t(\"Choose Photo\")}<br/><br/>\n                            <FontAwesomeIcon className=\"modal-form-img-button-icon\" icon={faImage} size=\"2x\"/>\n                            </button>\n                            {isImageLoad ? <div className=\"modal-form-img-popup\">\n                                <div className=\"modal-form-img-input-cont\">\n                                    <div className=\"modal-form-img-input-cont-inner\">\n                                        <input type=\"text\" placeholder=\"www.photo-url.com/image.jpg\" onChange={handleImageUpload} />\n                                        <button type=\"button\" name=\"upload\" className=\"modal-form-img-input-cont-button-upload\" onClick={handleImageUpload}>{t(\"Choose\")}</button>\n                                        <button type=\"button\" name=\"cancel\" className=\"modal-form-img-input-cont-button-cancel\" onClick={handleImageUpload}>{t(\"Cancel\")}</button>\n                                    </div>\n                                    {isImageError ? <h4 style={{color:\"red\", fontWeight: \"200\"} }>{t(\"Invalid URL. Please enter a valid image url and retry.\")}</h4> : null}\n                                </div>\n                            </div> : null}\n                        </div>  \n                        {isImageDisplay ? <img className={t(\"lang\") === \"he\" ? \"temp-img-rtl\" :\"temp-img\"} alt=\"\" src={state.itemImgURL}/> : null }\n                        {isImageDisplay ? <button type=\"button\" name=\"remove\" className=\"modal-form-img-button-remove\" onClick={handleImageUpload}>{t(\"Remove\")}</button> : null }\n                        <div className=\"modal-form\">\n                            <div className=\"modal-form-inputs\">\n                                <h3><span>* </span>{t(\"Tell us about your event\")}</h3>\n                                <textarea \n                                placeholder={t(\"Short description of your event...\")} \n                                maxLength=\"90\"\n                                name=\"itemTitle\"\n                                value={state.itemTitle}\n                                onChange={handleChange}\n                                />\n                                <p style={t(\"lang\") === \"he\" ? {right:378} : {left:378}}>{state.itemTitle.length}/90</p>\n                            </div>\n                            <div className=\"modal-form-inputs\">\n                                <h3><span>* </span>{t(\"When is it?\")}</h3>\n                                <div className=\"modal-form-datetime\" >\n                                    <label>\n                                        {t(\"Event Date\")}<input \n                                        type=\"date\" \n                                        name=\"date\" \n                                        onKeyDown={handleDateClear}\n                                        onChange={handleDateChange}  \n                                        value={date.date}\n                                    />\n                                    </label>\n                                    <label>\n                                        {t(\"Start Time\")}<input \n                                        type=\"text\" \n                                        maxLength=\"5\"\n                                        pattern=\"[0-9].{1,}:[0-9].{1,}\" \n                                        title=\"12:34\"\n                                        name=\"startTime\" \n                                        placeHolder=\"12:30\" \n                                        className=\"modal-form-datetime-time\" \n                                        onKeyDown={handleDateClear}\n                                        onChange={handleDateChange}\n                                        onBlur={handleDateChange}\n                                        value={date.startTime}\n                                    />\n                                    </label>\n                                    <label>\n                                    {t(\"End Time\")}<input \n                                        type=\"text\" \n                                        maxLength=\"5\"\n                                        pattern=\"[0-9].{1,}:[0-9].{1,}\" \n                                        title=\"12:34\"\n                                        name=\"endTime\" \n                                        placeHolder=\"13:45\" \n                                        className=\"modal-form-datetime-time\" \n                                        onKeyDown={handleDateClear}\n                                        onChange={handleDateChange}\n                                        onBlur={handleDateChange}\n                                        value={date.endTime}\n                                    />\n                                    </label>\n                                </div>\n                            </div>\n\n                            <div className=\"modal-form-inputs\">\n                                <h3><span>* </span>{t(\"Enter your event's URL\")}</h3>\n                                <input \n                                    name=\"itemURL\" \n                                    type=\"text\" \n                                    placeholder=\"www.amazing-event.com/live-video-url\"\n                                    onChange={handleChange}\n                                    value={state.itemURL}\n                                />\n                            </div>\n                            <div className=\"modal-form-categories\">\n                                <h3><span>* </span>{t(\"Choose Category\")}</h3>\n                                <div className=\"modal-form-categories-radio\">\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Kids\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"kids\"\n                                            onChange={handleCategoryChange}/>\n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Lectures\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"lectures\"\n                                            onChange={handleCategoryChange}/>\n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Fitness\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"fitness\"\n                                            onChange={handleCategoryChange}/> \n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                    <label className=\"modal-form-categories-radio-design\">{t(\"Fun\")}\n                                        <input type=\"radio\" \n                                            name=\"itemTags\" \n                                            value=\"fun\"\n                                            onChange={handleCategoryChange}/> \n                                        <span className=\"radio-checkmark\"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                    </div> \n                    {isError ? <h4 style={{color:\"red\", fontWeight: isErrorHighlight ? \"900\" : \"200\"} }>{t(\"You must complete the form before submitting!\")}</h4> : null}\n                    <button className=\"modal-submit-button\" type=\"submit\" onClick={handleSubmit}>\n                        <FontAwesomeIcon className={t(\"lang\") === \"he\" ? \"modal-submit-button-icon-rtl\" : \"modal-submit-button-icon\"} icon={faPlus} size=\"1x\"/>\n                        {t(\"Add Event\")}\n                    </button>\n                </form>:\n                <div className=\"modal-container-window\">\n                    <div className=\"modal-form-container-login\">\n                        <div>\n                            <h2>Event Added successfully!</h2>\n                            <FontAwesomeIcon icon={faCheck} size=\"2x\"/>\n                        </div>\n                    </div>\n                </div>}\n            </div>\n        </div>\n    )\n}\n\nexport default AddEventModal\n\n\n"]},"metadata":{},"sourceType":"module"}